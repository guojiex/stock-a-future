# Stock-A-Future - Aè‚¡è‚¡ç¥¨ä¹°å–ç‚¹é¢„æµ‹API

![Stock-A-Future API ç½‘é¡µç¤ºä¾‹](docs/imgs/Stock-A-Future-API-ç½‘é¡µç¤ºä¾‹-08-12-2025_02_30_PM.png)

åŸºäºGoè¯­è¨€å¼€å‘çš„Aè‚¡è‚¡ç¥¨ä¹°å–ç‚¹é¢„æµ‹ç³»ç»Ÿï¼Œä½¿ç”¨Tushareä½œä¸ºæ•°æ®æºï¼Œæä¾›æŠ€æœ¯æŒ‡æ ‡è®¡ç®—å’Œä¹°å–ç‚¹é¢„æµ‹åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§

### ğŸ“Š æ•°æ®è·å–
- é›†æˆTushare APIï¼Œè·å–Aè‚¡å®æ—¶å’Œå†å²æ•°æ®
- æ”¯æŒè‚¡ç¥¨æ—¥çº¿æ•°æ®æŸ¥è¯¢
- è‡ªåŠ¨æ•°æ®é¢„å¤„ç†å’Œæ¸…æ´—
- **è‚¡ç¥¨åˆ—è¡¨å·¥å…·**ï¼šæ”¯æŒä»ä¸Šäº¤æ‰€åœ¨çº¿è·å–æœ€æ–°è‚¡ç¥¨åˆ—è¡¨
- **æ·±äº¤æ‰€æ•°æ®**ï¼šä½¿ç”¨æœ¬åœ°Excelæ–‡ä»¶ï¼ˆ`data/Aè‚¡åˆ—è¡¨.xlsx`ï¼‰æä¾›å®Œæ•´æ·±äº¤æ‰€è‚¡ç¥¨æ•°æ®

### ğŸ“ˆ æŠ€æœ¯æŒ‡æ ‡è®¡ç®—
- **MACD** - æŒ‡æ•°å¹³æ»‘å¼‚åŒå¹³å‡çº¿ï¼Œè¯†åˆ«è¶‹åŠ¿è½¬æŠ˜
- **RSI** - ç›¸å¯¹å¼ºå¼±æŒ‡æ•°ï¼Œåˆ¤æ–­è¶…ä¹°è¶…å–
- **å¸ƒæ—å¸¦** - ä»·æ ¼æ³¢åŠ¨åŒºé—´åˆ†æ
- **ç§»åŠ¨å¹³å‡çº¿** - MA5/MA10/MA20/MA60/MA120å¤šå‘¨æœŸå‡çº¿
- **KDJ** - éšæœºæŒ‡æ ‡ï¼ŒçŸ­æœŸä¹°å–ä¿¡å·

### ğŸ¯ æ™ºèƒ½é¢„æµ‹
- åŸºäºå¤šæŒ‡æ ‡ç»¼åˆåˆ†æçš„ä¹°å–ç‚¹é¢„æµ‹
- é¢„æµ‹æ¦‚ç‡å’Œç½®ä¿¡åº¦è®¡ç®—
- è¯¦ç»†çš„é¢„æµ‹ç†ç”±è¯´æ˜
- æ”¯æŒå¤šæ—¶é—´å‘¨æœŸé¢„æµ‹

### ğŸš€ RESTful API
- å®Œæ•´çš„REST APIæ¥å£
- JSONæ ¼å¼æ•°æ®äº¤æ¢
- CORSæ”¯æŒï¼Œä¾¿äºå‰ç«¯é›†æˆ
- è¯¦ç»†çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•

### ğŸŒ Webç•Œé¢
- **ä¸“ä¸šKçº¿å›¾**: ä½¿ç”¨EChartsæ˜¾ç¤ºå®Œæ•´çš„OHLCæ•°æ®
- **æŠ€æœ¯æŒ‡æ ‡å åŠ **: MA5/MA10/MA20ç§»åŠ¨å¹³å‡çº¿
- **æˆäº¤é‡å‰¯å›¾**: åº•éƒ¨æ˜¾ç¤ºæˆäº¤é‡æŸ±çŠ¶å›¾ï¼Œé¢œè‰²ä¸Kçº¿è”åŠ¨
- **æ™ºèƒ½æœç´¢**: æ”¯æŒè‚¡ç¥¨åç§°å’Œä»£ç å®æ—¶æœç´¢
- **å“åº”å¼è®¾è®¡**: è‡ªé€‚åº”æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯
- **äº¤äº’ä½“éªŒ**: ç¼©æ”¾ã€å¹³ç§»ã€åå­—å…‰æ ‡ç­‰ä¸“ä¸šåŠŸèƒ½

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Go 1.22+
- Tushare Proè´¦å·å’ŒToken

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone <repository-url>
   cd stock-a-future
   ```

2. **å®‰è£…ä¾èµ–**
   ```bash
   make deps
   ```

3. **é…ç½®ç¯å¢ƒå˜é‡**
   ```bash
   make env
   # ç¼–è¾‘.envæ–‡ä»¶ï¼Œå¡«å…¥æ‚¨çš„Tushare Token
   vim .env
   ```

4. **è·å–è‚¡ç¥¨åˆ—è¡¨ï¼ˆå¯é€‰ï¼‰**
   ```bash
   # è·å–ä¸Šäº¤æ‰€è‚¡ç¥¨åˆ—è¡¨
   make fetch-sse
   
   # è·å–æ‰€æœ‰è‚¡ç¥¨åˆ—è¡¨ï¼ˆä¸Šäº¤æ‰€åœ¨çº¿è·å– + æ·±äº¤æ‰€Excelæ–‡ä»¶ï¼‰
   make fetch-stocks
   ```
   
   > **æ³¨æ„**ï¼šæ·±äº¤æ‰€è‚¡ç¥¨æ•°æ®å·²åŒ…å«åœ¨ `data/Aè‚¡åˆ—è¡¨.xlsx` æ–‡ä»¶ä¸­ï¼Œæ— éœ€åœ¨çº¿è·å–ã€‚

5. **å¯åŠ¨æœåŠ¡**
   ```bash
   # å¼€å‘æ¨¡å¼
   make dev
   
   # æˆ–è€…æ„å»ºåè¿è¡Œ
   make build
   make run
   ```

æœåŠ¡å°†åœ¨ `http://localhost:8081` å¯åŠ¨ã€‚

6. **ä½¿ç”¨Webç•Œé¢**
   - æ‰“å¼€æµè§ˆå™¨è®¿é—® `examples/index.html`
   - é…ç½®æœåŠ¡å™¨åœ°å€ä¸º `http://localhost:8081`
   - ä½¿ç”¨æ™ºèƒ½æœç´¢æ¡†è¾“å…¥è‚¡ç¥¨åç§°æˆ–ä»£ç ï¼ˆå¦‚ï¼šå¹³å®‰é“¶è¡Œã€000001ï¼‰
   - é€‰æ‹©è‚¡ç¥¨åæŸ¥çœ‹ä¸“ä¸šKçº¿å›¾å’ŒæŠ€æœ¯æŒ‡æ ‡

## APIæ–‡æ¡£

### åŸºç¡€ä¿¡æ¯
- **Base URL**: `http://localhost:8081`
- **Content-Type**: `application/json`

### æ¥å£åˆ—è¡¨

#### 1. å¥åº·æ£€æŸ¥
```http
GET /api/v1/health
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "data": {
    "status": "healthy",
    "timestamp": "2024-01-15T10:30:00Z",
    "version": "1.0.0",
    "services": {
      "tushare": "healthy"
    }
  }
}
```

#### 2. è·å–è‚¡ç¥¨æ—¥çº¿æ•°æ®
```http
GET /api/v1/stocks/{code}/daily?start_date=20240101&end_date=20240131
```

**å‚æ•°è¯´æ˜**:
- `code`: è‚¡ç¥¨ä»£ç  (å¦‚: 000001.SZ, 600000.SH)
- `start_date`: å¼€å§‹æ—¥æœŸ (YYYYMMDDæ ¼å¼ï¼Œå¯é€‰)
- `end_date`: ç»“æŸæ—¥æœŸ (YYYYMMDDæ ¼å¼ï¼Œå¯é€‰)

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "data": [
    {
      "ts_code": "000001.SZ",
      "trade_date": "20240115",
      "open": 8.75,
      "high": 8.85,
      "low": 8.69,
      "close": 8.70,
      "pre_close": 8.72,
      "change": -0.02,
      "pct_chg": -0.23,
      "vol": 525152.77,
      "amount": 460697.377
    }
  ]
}
```

#### 3. è·å–æŠ€æœ¯æŒ‡æ ‡
```http
GET /api/v1/stocks/{code}/indicators
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "data": {
    "ts_code": "000001.SZ",
    "trade_date": "20240115",
    "macd": {
      "dif": 0.05,
      "dea": 0.03,
      "macd": 0.04,
      "signal": "BUY"
    },
    "rsi": {
      "rsi6": 45.2,
      "rsi12": 48.5,
      "rsi24": 52.1,
      "signal": "HOLD"
    },
    "boll": {
      "upper": 9.20,
      "middle": 8.70,
      "lower": 8.20,
      "signal": "HOLD"
    }
  }
}
```

#### 4. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯
```http
GET /api/v1/stocks/{code}/basic
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "data": {
    "ts_code": "000001.SZ",
    "symbol": "000001",
    "name": "å¹³å®‰é“¶è¡Œ",
    "area": "æ·±åœ³",
    "industry": "é“¶è¡Œ",
    "market": "SZ",
    "list_date": "19910403"
  }
}
```

#### 5. æœç´¢è‚¡ç¥¨
```http
GET /api/v1/stocks/search?q={keyword}&limit={limit}
```

**å‚æ•°è¯´æ˜**:
- `q`: æœç´¢å…³é”®è¯ (è‚¡ç¥¨åç§°æˆ–ä»£ç )
- `limit`: è¿”å›ç»“æœæ•°é‡é™åˆ¶ (å¯é€‰ï¼Œé»˜è®¤10ï¼Œæœ€å¤§50)

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "data": {
    "keyword": "å¹³å®‰",
    "total": 3,
    "stocks": [
      {
        "ts_code": "000001.SZ",
        "symbol": "000001",
        "name": "å¹³å®‰é“¶è¡Œ",
        "market": "SZ"
      },
      {
        "ts_code": "601318.SH",
        "symbol": "601318",
        "name": "ä¸­å›½å¹³å®‰",
        "market": "SH"
      }
    ]
  }
}
```

#### 6. è·å–è‚¡ç¥¨åˆ—è¡¨
```http
GET /api/v1/stocks
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "data": {
    "total": 8950,
    "stocks": [
      {
        "ts_code": "000001.SZ",
        "symbol": "000001",
        "name": "å¹³å®‰é“¶è¡Œ",
        "market": "SZ"
      }
    ]
  }
}
```

#### 7. è·å–ä¹°å–ç‚¹é¢„æµ‹
```http
GET /api/v1/stocks/{code}/predictions
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "data": {
    "ts_code": "000001.SZ",
    "trade_date": "20240115",
    "predictions": [
      {
        "type": "BUY",
        "price": 8.70,
        "date": "20240116",
        "probability": 0.65,
        "reason": "MACDé‡‘å‰ä¿¡å·ï¼ŒDIFçº¿ä¸Šç©¿DEAçº¿",
        "indicators": ["MACD"]
      }
    ],
    "confidence": 0.68,
    "updated_at": "2024-01-15T10:30:00Z"
  }
}
```

## æŠ€æœ¯æ¶æ„

### é¡¹ç›®ç»“æ„
```
stock-a-future/
â”œâ”€â”€ cmd/
â”‚   â”œâ”€â”€ server/          # ä¸»åº”ç”¨ç¨‹åºå…¥å£
â”‚   â””â”€â”€ stocklist/       # è‚¡ç¥¨åˆ—è¡¨è·å–å·¥å…·
â”œâ”€â”€ config/              # é…ç½®ç®¡ç†
â”œâ”€â”€ data/                # æ•°æ®æ–‡ä»¶
â”‚   â””â”€â”€ Aè‚¡åˆ—è¡¨.xlsx      # æ·±äº¤æ‰€è‚¡ç¥¨åˆ—è¡¨ï¼ˆExcelæ ¼å¼ï¼‰
â”œâ”€â”€ internal/            # å†…éƒ¨åŒ…
â”‚   â”œâ”€â”€ client/          # APIå®¢æˆ·ç«¯ï¼ˆTushare + äº¤æ˜“æ‰€ï¼‰
â”‚   â”œâ”€â”€ handler/         # HTTPå¤„ç†å™¨
â”‚   â”œâ”€â”€ indicators/      # æŠ€æœ¯æŒ‡æ ‡è®¡ç®—
â”‚   â”œâ”€â”€ models/          # æ•°æ®æ¨¡å‹
â”‚   â””â”€â”€ service/         # ä¸šåŠ¡é€»è¾‘æœåŠ¡
â”œâ”€â”€ docs/                # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ examples/            # ä½¿ç”¨ç¤ºä¾‹
â”œâ”€â”€ Makefile            # æ„å»ºè„šæœ¬
â””â”€â”€ README.md           # é¡¹ç›®æ–‡æ¡£
```

### æŠ€æœ¯æ ˆ
- **è¯­è¨€**: Go 1.22
- **HTTPæ¡†æ¶**: æ ‡å‡†åº“ net/http + ServeMux
- **æ•°æ®æº**: Tushare Pro API + äº¤æ˜“æ‰€å®˜ç½‘ + æœ¬åœ°Excelæ–‡ä»¶
- **æ•°å€¼è®¡ç®—**: shopspring/decimal
- **é…ç½®ç®¡ç†**: godotenv

### æ ¸å¿ƒç®—æ³•

#### ä¹°å–ç‚¹é¢„æµ‹é€»è¾‘
1. **å¤šæŒ‡æ ‡ç»¼åˆåˆ†æ**: ç»“åˆMACDã€RSIã€å¸ƒæ—å¸¦ã€KDJã€ç§»åŠ¨å¹³å‡çº¿
2. **æ¦‚ç‡è®¡ç®—**: åŸºäºæŒ‡æ ‡å¼ºåº¦å’Œå†å²è¡¨ç°è®¡ç®—é¢„æµ‹æ¦‚ç‡
3. **ç½®ä¿¡åº¦è¯„ä¼°**: æ ¹æ®ä¿¡å·ä¸€è‡´æ€§è¯„ä¼°æ•´ä½“ç½®ä¿¡åº¦
4. **é£é™©æ§åˆ¶**: è®¾ç½®æ¦‚ç‡é˜ˆå€¼ï¼Œè¿‡æ»¤ä½è´¨é‡ä¿¡å·

#### æŠ€æœ¯æŒ‡æ ‡å®ç°
- **ç²¾ç¡®è®¡ç®—**: ä½¿ç”¨decimalåº“ç¡®ä¿é‡‘èè®¡ç®—ç²¾åº¦
- **æ ‡å‡†ç®—æ³•**: ä¸¥æ ¼æŒ‰ç…§æŠ€æœ¯åˆ†ææ ‡å‡†å…¬å¼å®ç°
- **æ€§èƒ½ä¼˜åŒ–**: é«˜æ•ˆçš„æ»‘åŠ¨çª—å£ç®—æ³•

## å¼€å‘æŒ‡å—

### æœ¬åœ°å¼€å‘

#### å¼€å‘å·¥å…·å’Œä»£ç è´¨é‡
```bash
# å®‰è£…å¼€å‘å·¥å…·
make tools

# ä»£ç æ ¼å¼åŒ–
make fmt

# ä»£ç æ£€æŸ¥
make vet

# è¿è¡Œæµ‹è¯•
make test

# ä»£ç è´¨é‡æ£€æŸ¥
make lint
```

#### æœåŠ¡å™¨ç®¡ç†
```bash
# æ£€æŸ¥æœåŠ¡å™¨çŠ¶æ€
make status

# å¼€å‘æ¨¡å¼å¯åŠ¨
make dev

# åœæ­¢æœåŠ¡å™¨
make stop

# å¼ºåˆ¶åœæ­¢æœåŠ¡å™¨
make kill

# é‡å¯æœåŠ¡å™¨
make restart
```

#### æ„å»ºå’Œéƒ¨ç½²
```bash
# ä¸‹è½½ä¾èµ–
make deps

# æ„å»ºåº”ç”¨ç¨‹åº
make build

# æ„å»ºå¹¶è¿è¡Œ
make run

# æ¸…ç†æ„å»ºæ–‡ä»¶
make clean
```

#### æ•°æ®ç®¡ç†
```bash
# è·å–ä¸Šäº¤æ‰€è‚¡ç¥¨åˆ—è¡¨
make fetch-sse

# è·å–æ‰€æœ‰è‚¡ç¥¨åˆ—è¡¨
make fetch-stocks

# æ„å»ºè‚¡ç¥¨åˆ—è¡¨å·¥å…·
make stocklist
```

### ç¯å¢ƒé…ç½®
åˆ›å»º`.env`æ–‡ä»¶ï¼š
```bash
TUSHARE_TOKEN=your_tushare_token_here
TUSHARE_BASE_URL=http://api.tushare.pro
SERVER_PORT=8081
SERVER_HOST=localhost
LOG_LEVEL=info
```

### éƒ¨ç½²
```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
make build

# è¿è¡Œ
./bin/stock-a-future
```

## åŠŸèƒ½å±•ç¤º

### ğŸ–¥ï¸ Webç•Œé¢ç‰¹æ€§

#### Kçº¿å›¾å‡çº§
- **ä»ç®€å•æŠ˜çº¿å›¾åˆ°ä¸“ä¸šKçº¿å›¾**: æ˜¾ç¤ºå®Œæ•´çš„å¼€ç›˜ã€æœ€é«˜ã€æœ€ä½ã€æ”¶ç›˜ä»·
- **çº¢ç»¿æ¶¨è·Œè‰²å½©**: çº¢è‰²é˜³çº¿è¡¨ç¤ºä¸Šæ¶¨ï¼Œç»¿è‰²é˜´çº¿è¡¨ç¤ºä¸‹è·Œ
- **æˆäº¤é‡è”åŠ¨**: åº•éƒ¨æˆäº¤é‡æŸ±çŠ¶å›¾ï¼Œé¢œè‰²ä¸Kçº¿ä¿æŒä¸€è‡´
- **æŠ€æœ¯æŒ‡æ ‡å åŠ **: è‡ªåŠ¨è®¡ç®—å¹¶æ˜¾ç¤ºMA5ã€MA10ã€MA20ç§»åŠ¨å¹³å‡çº¿

#### æ™ºèƒ½æœç´¢åŠŸèƒ½

![æœç´¢åŠŸèƒ½è§†å›¾](docs/imgs/æœç´¢åŠŸèƒ½è§†å›¾.png)

- **å®æ—¶æœç´¢**: è¾“å…¥è‚¡ç¥¨åç§°æˆ–ä»£ç ï¼Œ300msé˜²æŠ–æœç´¢
- **æ¨¡ç³ŠåŒ¹é…**: æ”¯æŒéƒ¨åˆ†åŒ¹é…ï¼Œå¦‚è¾“å…¥"å¹³å®‰"å¯æ‰¾åˆ°"å¹³å®‰é“¶è¡Œ"ã€"ä¸­å›½å¹³å®‰"
- **é”®ç›˜å¯¼èˆª**: æ”¯æŒä¸Šä¸‹ç®­å¤´é”®é€‰æ‹©ï¼Œå›è½¦ç¡®è®¤
- **è‡ªåŠ¨å¡«å……**: é€‰æ‹©æœç´¢ç»“æœåè‡ªåŠ¨å¡«å…¥è‚¡ç¥¨ä»£ç æ¡†

#### äº¤äº’ä½“éªŒ
- **å›¾è¡¨ç¼©æ”¾**: é¼ æ ‡æ»šè½®ç¼©æ”¾ï¼Œæ‹–æ‹½å¹³ç§»
- **æ•°æ®æç¤º**: é¼ æ ‡æ‚¬åœæ˜¾ç¤ºè¯¦ç»†çš„OHLCæ•°æ®ã€æˆäº¤é‡ã€æ¶¨è·Œå¹…
- **å“åº”å¼è®¾è®¡**: è‡ªé€‚åº”ä¸åŒå±å¹•å°ºå¯¸
- **æ•°æ®æ‘˜è¦**: æ˜¾ç¤º8ä¸ªå…³é”®æŒ‡æ ‡ï¼ˆæ”¶ç›˜ä»·ã€æˆäº¤é‡ã€æŒ¯å¹…ç­‰ï¼‰

### ğŸ”§ æœåŠ¡å™¨ç®¡ç†

æ–°å¢çš„Makeå‘½ä»¤è®©æœåŠ¡å™¨ç®¡ç†æ›´åŠ ä¾¿æ·ï¼š

```bash
# æ£€æŸ¥æœåŠ¡å™¨çŠ¶æ€ï¼ˆæ˜¾ç¤ºè¿›ç¨‹å’Œç«¯å£å ç”¨ï¼‰
make status

# ä¼˜é›…åœæ­¢æœåŠ¡å™¨
make stop

# å¼ºåˆ¶åœæ­¢ï¼ˆåŒ…æ‹¬ç«¯å£æ¸…ç†ï¼‰
make kill

# ä¸€é”®é‡å¯
make restart
```

## ä½¿ç”¨ç¤ºä¾‹

### cURLç¤ºä¾‹
```bash
# å¥åº·æ£€æŸ¥
curl http://localhost:8081/api/v1/health

# è·å–å¹³å®‰é“¶è¡Œæ—¥çº¿æ•°æ®
curl "http://localhost:8081/api/v1/stocks/000001.SZ/daily?start_date=20240101&end_date=20240131"

# è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯
curl http://localhost:8081/api/v1/stocks/000001.SZ/basic

# æœç´¢è‚¡ç¥¨
curl "http://localhost:8081/api/v1/stocks/search?q=å¹³å®‰&limit=5"

# è·å–è‚¡ç¥¨åˆ—è¡¨
curl http://localhost:8081/api/v1/stocks

# è·å–æŠ€æœ¯æŒ‡æ ‡
curl http://localhost:8081/api/v1/stocks/000001.SZ/indicators

# è·å–ä¹°å–ç‚¹é¢„æµ‹
curl http://localhost:8081/api/v1/stocks/000001.SZ/predictions
```

### Pythonç¤ºä¾‹
```python
import requests

# åŸºç¡€é…ç½®
base_url = "http://localhost:8081"
stock_code = "000001.SZ"

# 1. æœç´¢è‚¡ç¥¨
def search_stocks(keyword):
    response = requests.get(f"{base_url}/api/v1/stocks/search", 
                          params={"q": keyword, "limit": 5})
    data = response.json()
    if data["success"]:
        print(f"æœç´¢ '{keyword}' çš„ç»“æœ:")
        for stock in data["data"]["stocks"]:
            print(f"  {stock['name']} ({stock['ts_code']}) - {stock['market']}")
        return data["data"]["stocks"]
    return []

# 2. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯
def get_stock_basic(stock_code):
    response = requests.get(f"{base_url}/api/v1/stocks/{stock_code}/basic")
    data = response.json()
    if data["success"]:
        stock = data["data"]
        print(f"è‚¡ç¥¨ä¿¡æ¯: {stock['name']} ({stock['ts_code']})")
        print(f"æ‰€å±å¸‚åœº: {stock['market']}, è¡Œä¸š: {stock.get('industry', 'N/A')}")
        return stock
    return None

# 3. è·å–æ—¥çº¿æ•°æ®
def get_daily_data(stock_code, start_date="20250101", end_date="20250131"):
    response = requests.get(f"{base_url}/api/v1/stocks/{stock_code}/daily",
                          params={"start_date": start_date, "end_date": end_date})
    data = response.json()
    if data["success"]:
        daily_data = data["data"]
        print(f"è·å–åˆ° {len(daily_data)} æ¡æ—¥çº¿æ•°æ®")
        if daily_data:
            latest = daily_data[-1]
            print(f"æœ€æ–°æ•°æ® ({latest['trade_date']}): æ”¶ç›˜ä»· {latest['close']}")
        return daily_data
    return []

# 4. è·å–é¢„æµ‹ç»“æœ
def get_predictions(stock_code):
    response = requests.get(f"{base_url}/api/v1/stocks/{stock_code}/predictions")
    data = response.json()
    if data["success"]:
        predictions = data["data"]["predictions"]
        confidence = data["data"]["confidence"]
        print(f"é¢„æµ‹ç½®ä¿¡åº¦: {confidence:.2%}")
        for pred in predictions:
            print(f"é¢„æµ‹ç±»å‹: {pred['type']}")
            print(f"é¢„æµ‹ä»·æ ¼: {pred['price']}")
            print(f"é¢„æµ‹æ¦‚ç‡: {pred['probability']:.2%}")
            print(f"é¢„æµ‹ç†ç”±: {pred['reason']}")
            print("---")
        return predictions
    return []

# ä½¿ç”¨ç¤ºä¾‹
if __name__ == "__main__":
    # æœç´¢åŒ…å«"å¹³å®‰"çš„è‚¡ç¥¨
    stocks = search_stocks("å¹³å®‰")
    
    if stocks:
        # ä½¿ç”¨ç¬¬ä¸€ä¸ªæœç´¢ç»“æœ
        stock_code = stocks[0]["ts_code"]
        
        # è·å–åŸºæœ¬ä¿¡æ¯
        get_stock_basic(stock_code)
        
        # è·å–æ—¥çº¿æ•°æ®
        get_daily_data(stock_code)
        
        # è·å–é¢„æµ‹ç»“æœ
        get_predictions(stock_code)
```

## æ³¨æ„äº‹é¡¹

### Tushareä½¿ç”¨é™åˆ¶
- éœ€è¦æ³¨å†ŒTushare Proè´¦å·è·å–Token
- å…è´¹è´¦å·æœ‰è°ƒç”¨é¢‘ç‡é™åˆ¶
- éƒ¨åˆ†é«˜çº§æ•°æ®éœ€è¦ç§¯åˆ†

### é£é™©æç¤º
- æœ¬ç³»ç»Ÿä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨
- é¢„æµ‹ç»“æœä¸æ„æˆæŠ•èµ„å»ºè®®
- è‚¡å¸‚æœ‰é£é™©ï¼ŒæŠ•èµ„éœ€è°¨æ…
- è¯·æ ¹æ®è‡ªèº«æƒ…å†µåšå‡ºæŠ•èµ„å†³ç­–

### æ€§èƒ½è€ƒè™‘
- æŠ€æœ¯æŒ‡æ ‡è®¡ç®—éœ€è¦è¶³å¤Ÿçš„å†å²æ•°æ®
- å»ºè®®ä¸ºè®¡ç®—å¯†é›†å‹æ“ä½œæ·»åŠ ç¼“å­˜
- ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨æ•°æ®åº“å­˜å‚¨å†å²æ•°æ®

## é‡è¦é…ç½®è¯´æ˜

### å¼€å§‹ä½¿ç”¨å‰çš„å¿…è¦æ­¥éª¤

**âš ï¸ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ‚¨éœ€è¦ï¼š**

1. **è·å–Tushare API Token**
   - è®¿é—® [Tushareå®˜ç½‘](https://tushare.pro) æ³¨å†Œè´¦å·
   - åœ¨ä¸ªäººä¸­å¿ƒè·å–æ‚¨çš„API Token
   - å…è´¹è´¦å·æœ‰ä¸€å®šçš„è°ƒç”¨é™åˆ¶ï¼Œè¯·åˆç†ä½¿ç”¨

2. **é…ç½®ç¯å¢ƒå˜é‡**
   ```bash
   # å¤åˆ¶é…ç½®æ–‡ä»¶æ¨¡æ¿
   cp .env.example .env
   
   # ç¼–è¾‘.envæ–‡ä»¶ï¼Œå°†your_tushare_token_hereæ›¿æ¢ä¸ºæ‚¨çš„çœŸå®Token
   vim .env
   ```

3. **éªŒè¯é…ç½®**
   ```bash
   # å¯åŠ¨æœåŠ¡
   make dev
   
   # åœ¨å¦ä¸€ä¸ªç»ˆç«¯æµ‹è¯•å¥åº·æ£€æŸ¥
   curl http://localhost:8081/api/v1/health
   ```

å¦‚æœå¥åº·æ£€æŸ¥æ˜¾ç¤ºTushareæœåŠ¡çŠ¶æ€ä¸º"healthy"ï¼Œè¯´æ˜é…ç½®æˆåŠŸã€‚

## ğŸ“ˆ æ›´æ–°æ—¥å¿—

### 2025-08-13

#### ğŸ†• æ–°å¢åŠŸèƒ½
- **ä¸“ä¸šKçº¿å›¾**: å‡çº§å‰ç«¯å›¾è¡¨ä¸ºEChartsï¼Œæ”¯æŒå®Œæ•´OHLCæ˜¾ç¤º
- **æ™ºèƒ½è‚¡ç¥¨æœç´¢**: æ–°å¢è‚¡ç¥¨åç§°å’Œä»£ç æœç´¢APIå’Œå‰ç«¯ç•Œé¢
- **æœåŠ¡å™¨ç®¡ç†å‘½ä»¤**: æ–°å¢ `make stop/kill/status/restart` å‘½ä»¤
- **æˆäº¤é‡å‰¯å›¾**: Kçº¿å›¾ä¸‹æ–¹æ˜¾ç¤ºæˆäº¤é‡æŸ±çŠ¶å›¾
- **æŠ€æœ¯æŒ‡æ ‡å åŠ **: è‡ªåŠ¨æ˜¾ç¤ºMA5/MA10/MA20ç§»åŠ¨å¹³å‡çº¿

#### ğŸ”§ æ”¹è¿›ä¼˜åŒ–
- **ç«¯å£æ›´æ–°**: é»˜è®¤ç«¯å£ä»8080æ”¹ä¸º8081ï¼Œé¿å…å¸¸è§å†²çª
- **æ•°æ®æ‘˜è¦å¢å¼º**: æ˜¾ç¤º8ä¸ªå…³é”®æŒ‡æ ‡ï¼ˆæˆäº¤é¢ã€æŒ¯å¹…ç­‰ï¼‰
- **äº¤äº’ä½“éªŒ**: æ”¯æŒå›¾è¡¨ç¼©æ”¾ã€å¹³ç§»ã€é”®ç›˜å¯¼èˆª
- **å“åº”å¼è®¾è®¡**: ä¼˜åŒ–ç§»åŠ¨ç«¯æ˜¾ç¤ºæ•ˆæœ
- **é”™è¯¯å¤„ç†**: æ”¹è¿›APIé”™è¯¯å¤„ç†å’Œç”¨æˆ·åé¦ˆ

#### ğŸ› ä¿®å¤é—®é¢˜
- ä¿®å¤å›¾è¡¨æ•°æ®æ ¼å¼åŒ–é—®é¢˜
- ä¼˜åŒ–æœç´¢æ€§èƒ½å’Œé˜²æŠ–å¤„ç†
- æ”¹è¿›æœåŠ¡å™¨è¿›ç¨‹ç®¡ç†å’Œç«¯å£æ£€æµ‹

#### ğŸ“š æ–‡æ¡£æ›´æ–°
- æ›´æ–°æ‰€æœ‰APIç¤ºä¾‹å’Œç«¯å£å·
- æ–°å¢æœåŠ¡å™¨ç®¡ç†æŒ‡å—
- å®Œå–„Pythonä½¿ç”¨ç¤ºä¾‹
- æ·»åŠ åŠŸèƒ½å±•ç¤ºè¯´æ˜

### 2025-08-12

#### ğŸ†• æ–°å¢åŠŸèƒ½
- **æœ¬åœ°è‚¡ç¥¨æ•°æ®æœåŠ¡**: æ”¯æŒä»Excelæ–‡ä»¶è¯»å–æ·±äº¤æ‰€è‚¡ç¥¨æ•°æ®
- **æ··åˆæ•°æ®æºæ¶æ„**: ä¸Šäº¤æ‰€åœ¨çº¿è·å– + æ·±äº¤æ‰€æœ¬åœ°Excelæ–‡ä»¶
- **è‚¡ç¥¨åˆ—è¡¨è·å–å·¥å…·**: æ”¯æŒå¤šç§æ•°æ®æºé€‰æ‹©ï¼ˆsse/allï¼‰
- **æ™ºèƒ½åˆ—æ˜ å°„**: è‡ªåŠ¨è¯†åˆ«Excelæ–‡ä»¶ä¸­çš„è‚¡ç¥¨ä»£ç å’Œåç§°åˆ—

#### ğŸ”§ æ”¹è¿›ä¼˜åŒ–
- **æ™ºèƒ½ç«¯å£æ£€æµ‹**: è‡ªåŠ¨å°è¯•å¸¸è§ç«¯å£ï¼ˆ8081, 8080, 3000, 8000, 9000ï¼‰
- **é…ç½®ç®¡ç†ç•Œé¢**: å‰ç«¯é…ç½®æŒ‰é’®ï¼Œæ”¯æŒæ‰‹åŠ¨è®¾ç½®æœåŠ¡å™¨åœ°å€
- **è‡ªåŠ¨æ•…éšœè½¬ç§»**: è¿æ¥å¤±è´¥æ—¶è‡ªåŠ¨å°è¯•å…¶ä»–ç«¯å£
- **æ•°æ®æ’åºä¼˜åŒ–**: ä¿®å¤æ—¥çº¿æ•°æ®æ—¶é—´è½´æ˜¾ç¤ºé—®é¢˜
- **è¿›ç¨‹ç®¡ç†å¢å¼º**: æ”¹è¿›makeå‘½ä»¤çš„è¿›ç¨‹è¯†åˆ«å’Œç«¯å£æ£€æµ‹

#### ğŸ› ä¿®å¤é—®é¢˜
- ä¿®å¤å‰ç«¯æ—¥æœŸè§£æ"Invalid Date"é—®é¢˜
- ä¿®å¤JSONåºåˆ—åŒ–ä¸­decimalç±»å‹é—®é¢˜
- ä¿®å¤æ—¥çº¿æ•°æ®æ—¶é—´æ’åºé—®é¢˜ï¼ˆä»å·¦åˆ°å³æ­£ç¡®å¢é•¿ï¼‰
- ä¼˜åŒ–ç«¯å£å ç”¨æ£€æµ‹å’Œè¿›ç¨‹æ¸…ç†

#### ğŸ“š æ–‡æ¡£æ›´æ–°
- æ–°å¢è‚¡ç¥¨åˆ—è¡¨è·å–å·¥å…·æ–‡æ¡£
- æ›´æ–°é¡¹ç›®ç»“æ„å’ŒæŠ€æœ¯æ ˆè¯´æ˜
- å®Œå–„æœåŠ¡å™¨ç®¡ç†å‘½ä»¤è¯´æ˜

### 2025-08-12 (æ—©æœŸ)

#### ğŸ†• æ–°å¢åŠŸèƒ½
- **äº¤æ˜“æ‰€å®¢æˆ·ç«¯**: æ”¯æŒè·å–ä¸Šäº¤æ‰€å’Œæ·±äº¤æ‰€è‚¡ç¥¨åˆ—è¡¨
- **å‘½ä»¤è¡Œå·¥å…·**: æ”¯æŒå¤šç§æ•°æ®æºé€‰æ‹©å’Œé…ç½®
- **Makefileé›†æˆ**: æ–°å¢è‚¡ç¥¨åˆ—è¡¨ç›¸å…³æ„å»ºå‘½ä»¤

#### ğŸ”§ æ”¹è¿›ä¼˜åŒ–
- **æ™ºèƒ½é…ç½®è¯»å–**: è‡ªåŠ¨ä».envæ–‡ä»¶è¯»å–é…ç½®
- **å‘½ä»¤è¡Œå‚æ•°æ”¯æŒ**: æ”¯æŒç«¯å£å’Œä¸»æœºåœ°å€é…ç½®
- **æµ‹è¯•è„šæœ¬ä¼˜åŒ–**: è‡ªåŠ¨é€‚é…é…ç½®æ–‡ä»¶ä¸­çš„ç«¯å£è®¾ç½®

### åˆå§‹ç‰ˆæœ¬
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- åŸºç¡€APIåŠŸèƒ½
- æŠ€æœ¯æŒ‡æ ‡è®¡ç®—
- ç®€å•å‰ç«¯ç•Œé¢

## è´¡çŒ®æŒ‡å—

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## è”ç³»æ–¹å¼

- é¡¹ç›®åœ°å€: [GitHub Repository]
- é—®é¢˜åé¦ˆ: [Issues]
- æ–‡æ¡£: [Wiki]

---

**å…è´£å£°æ˜**: æœ¬é¡¹ç›®ä»…ç”¨äºæŠ€æœ¯å­¦ä¹ å’Œç ”ç©¶ç›®çš„ï¼Œä¸æ„æˆä»»ä½•æŠ•èµ„å»ºè®®ã€‚ä½¿ç”¨è€…åº”å½“è‡ªè¡Œæ‰¿æ‹…æŠ•èµ„é£é™©ã€‚