<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>技术指标说明 - Stock-A-Future</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="stylesheet" href="styles.css">
    <style>
        .indicators-doc {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        .doc-header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 12px;
        }
        
        .doc-header h1 {
            margin: 0 0 10px 0;
            font-size: 2.5rem;
        }
        
        .doc-header p {
            margin: 0;
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            padding: 8px 16px;
            background: #f8f9fa;
            color: #495057;
            text-decoration: none;
            border-radius: 6px;
            border: 1px solid #dee2e6;
            transition: all 0.2s;
        }
        
        .back-link:hover {
            background: #e9ecef;
            text-decoration: none;
        }
        
        .toc {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
        }
        
        .toc h3 {
            margin-top: 0;
            color: #495057;
        }
        
        .toc ul {
            list-style: none;
            padding-left: 0;
        }
        
        .toc li {
            margin: 8px 0;
        }
        
        .toc a {
            color: #007bff;
            text-decoration: none;
            padding: 4px 8px;
            border-radius: 4px;
            transition: background-color 0.2s;
        }
        
        .toc a:hover {
            background: #e3f2fd;
            text-decoration: none;
        }
        
        .indicator-section {
            margin-bottom: 40px;
            padding: 25px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-left: 4px solid #007bff;
        }
        
        .indicator-section h2 {
            color: #2c3e50;
            margin-top: 0;
            margin-bottom: 15px;
            font-size: 1.8rem;
        }
        
        .indicator-section h3 {
            color: #34495e;
            margin-top: 25px;
            margin-bottom: 12px;
            font-size: 1.3rem;
        }
        
        .indicator-section h4 {
            color: #5a6c7d;
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .formula {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.95rem;
            overflow-x: auto;
        }
        
        .signal-box {
            background: #e8f5e8;
            border: 1px solid #c3e6c3;
            border-radius: 6px;
            padding: 12px;
            margin: 10px 0;
        }
        
        .signal-box.buy {
            background: #e8f5e8;
            border-color: #28a745;
        }
        
        .signal-box.sell {
            background: #ffeaea;
            border-color: #dc3545;
        }
        
        .signal-box.neutral {
            background: #fff3cd;
            border-color: #ffc107;
        }
        
        .parameters {
            background: #f1f3f4;
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .parameters h5 {
            margin-top: 0;
            color: #495057;
        }
        
        .pattern-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .pattern-card {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .pattern-card h4 {
            margin-top: 0;
            color: #495057;
        }
        
        .pattern-signal {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .pattern-signal.buy {
            background: #d4edda;
            color: #155724;
        }
        
        .pattern-signal.sell {
            background: #f8d7da;
            color: #721c24;
        }
        
        .warning-box {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 6px;
            padding: 15px;
            margin: 20px 0;
        }
        
        .warning-box h4 {
            color: #856404;
            margin-top: 0;
        }
        
        .api-section {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .api-endpoint {
            background: #2d3748;
            color: #e2e8f0;
            padding: 10px 15px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            margin: 8px 0;
            overflow-x: auto;
        }
        
        @media (max-width: 768px) {
            .indicators-doc {
                padding: 10px;
            }
            
            .doc-header h1 {
                font-size: 2rem;
            }
            
            .pattern-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="indicators-doc">
        <a href="index.html" class="back-link">← 返回主页</a>
        
        <div class="doc-header">
            <h1>📊 技术指标说明</h1>
            <p>Stock-A-Future 系统支持的技术指标详细说明</p>
        </div>

        <!-- 目录 -->
        <div class="toc">
            <h3>📋 目录</h3>
            <ul>
                <li><a href="#overview">系统概述</a></li>
                <li><a href="#traditional-indicators">传统技术指标</a>
                    <ul style="margin-left: 20px;">
                        <li><a href="#ma">移动平均线 (MA)</a></li>
                        <li><a href="#macd">MACD指标</a></li>
                        <li><a href="#rsi">RSI指标</a></li>
                        <li><a href="#boll">布林带 (BOLL)</a></li>
                        <li><a href="#kdj">KDJ指标</a></li>
                    </ul>
                </li>
                <li><a href="#pattern-recognition">图形模式识别</a>
                    <ul style="margin-left: 20px;">
                        <li><a href="#candlestick-patterns">蜡烛图模式</a></li>
                        <li><a href="#volume-price-patterns">量价图形</a></li>
                    </ul>
                </li>
                <li><a href="#comprehensive-analysis">综合分析</a></li>
                <li><a href="#api-usage">API使用</a></li>
                <li><a href="#usage-tips">使用建议</a></li>
            </ul>
        </div>

        <!-- 系统概述 -->
        <div class="indicator-section" id="overview">
            <h2>🎯 系统概述</h2>
            <p>Stock-A-Future 系统集成了丰富的技术指标分析功能，为股票投资决策提供全面的技术分析支持。系统支持传统技术指标计算、图形模式识别以及基于这些指标的智能预测功能。</p>
            
            <h3>主要特性</h3>
            <ul>
                <li>✅ <strong>5种核心技术指标</strong>：MA、MACD、RSI、BOLL、KDJ</li>
                <li>✅ <strong>6种蜡烛图模式识别</strong>：双响炮、红三兵、乌云盖顶等</li>
                <li>✅ <strong>3种量价图形识别</strong>：量价齐升、量价背离、放量突破</li>
                <li>✅ <strong>智能信号强度评级</strong>：STRONG、MEDIUM、WEAK</li>
                <li>✅ <strong>风险等级评估</strong>：LOW、MEDIUM、HIGH</li>
                <li>✅ <strong>多指标综合分析</strong>：提高信号可靠性</li>
            </ul>
        </div>

        <!-- 传统技术指标 -->
        <div class="indicator-section" id="traditional-indicators">
            <h2>📈 传统技术指标</h2>
            
            <!-- 移动平均线 -->
            <div id="ma">
                <h3>📊 移动平均线 (Moving Average - MA)</h3>
                <p>移动平均线是最基础也是最重要的技术指标之一，用于平滑价格波动，识别趋势方向。</p>
                
                <div class="parameters">
                    <h5>支持的周期：</h5>
                    <ul>
                        <li><strong>MA5</strong>：5日移动平均线 - 短期趋势</li>
                        <li><strong>MA10</strong>：10日移动平均线 - 短期趋势</li>
                        <li><strong>MA20</strong>：20日移动平均线 - 中期趋势</li>
                        <li><strong>MA60</strong>：60日移动平均线 - 中长期趋势</li>
                        <li><strong>MA120</strong>：120日移动平均线 - 长期趋势</li>
                    </ul>
                </div>
                
                <div class="formula">
                    <strong>计算公式：</strong><br>
                    MA(n) = (P1 + P2 + ... + Pn) / n<br>
                    其中 P 为收盘价，n 为周期
                </div>
                
                <h4>应用场景：</h4>
                <ul>
                    <li>判断股价趋势方向</li>
                    <li>寻找支撑和阻力位</li>
                    <li>金叉死叉信号识别</li>
                </ul>
            </div>

            <!-- MACD指标 -->
            <div id="macd">
                <h3>⚡ MACD指标 (Moving Average Convergence Divergence)</h3>
                <p>MACD是一个趋势跟踪动量指标，通过计算两条不同速度的指数移动平均线的差值来分析股价走势。</p>
                
                <div class="parameters">
                    <h5>组成部分：</h5>
                    <ul>
                        <li><strong>DIF线</strong>：12日EMA - 26日EMA</li>
                        <li><strong>DEA线</strong>：DIF的9日EMA（信号线）</li>
                        <li><strong>MACD柱状图</strong>：(DIF - DEA) × 2</li>
                    </ul>
                </div>
                
                <div class="signal-box buy">
                    <strong>🟢 金叉信号</strong>：MACD由负转正，买入信号
                </div>
                
                <div class="signal-box sell">
                    <strong>🔴 死叉信号</strong>：MACD由正转负，卖出信号
                </div>
                
                <div class="formula">
                    <strong>计算公式：</strong><br>
                    EMA(12) = 前一日EMA(12) × 11/13 + 今日收盘价 × 2/13<br>
                    EMA(26) = 前一日EMA(26) × 25/27 + 今日收盘价 × 2/27<br>
                    DIF = EMA(12) - EMA(26)<br>
                    DEA = 前一日DEA × 8/10 + 今日DIF × 2/10<br>
                    MACD = (DIF - DEA) × 2
                </div>
            </div>

            <!-- RSI指标 -->
            <div id="rsi">
                <h3>🎯 RSI指标 (Relative Strength Index)</h3>
                <p>RSI是一个动量振荡器，用于测量价格变动的速度和幅度，识别超买超卖状态。</p>
                
                <div class="parameters">
                    <h5>参数设置：</h5>
                    <ul>
                        <li><strong>默认周期</strong>：14日</li>
                        <li><strong>取值范围</strong>：0-100</li>
                    </ul>
                </div>
                
                <div class="signal-box sell">
                    <strong>🔴 超买状态</strong>：RSI > 70，可能出现回调
                </div>
                
                <div class="signal-box buy">
                    <strong>🟢 超卖状态</strong>：RSI < 30，可能出现反弹
                </div>
                
                <div class="signal-box neutral">
                    <strong>🟡 平衡状态</strong>：RSI = 50，多空平衡点
                </div>
                
                <div class="formula">
                    <strong>计算公式：</strong><br>
                    RS = 平均上涨幅度 / 平均下跌幅度<br>
                    RSI = 100 - (100 / (1 + RS))
                </div>
            </div>

            <!-- 布林带 -->
            <div id="boll">
                <h3>📏 布林带 (Bollinger Bands - BOLL)</h3>
                <p>布林带是一个波动率指标，由三条线组成，用于判断价格的相对高低位置。</p>
                
                <div class="parameters">
                    <h5>组成部分：</h5>
                    <ul>
                        <li><strong>中轨</strong>：20日移动平均线</li>
                        <li><strong>上轨</strong>：中轨 + 2倍标准差</li>
                        <li><strong>下轨</strong>：中轨 - 2倍标准差</li>
                    </ul>
                </div>
                
                <h4>信号识别：</h4>
                <ul>
                    <li>价格触及上轨：可能超买，关注卖出机会</li>
                    <li>价格触及下轨：可能超卖，关注买入机会</li>
                    <li>布林带收窄：波动率降低，可能酝酿大行情</li>
                    <li>布林带扩张：波动率增加，趋势可能加速</li>
                </ul>
                
                <div class="formula">
                    <strong>计算公式：</strong><br>
                    中轨 = MA(20)<br>
                    标准差 = SQRT(SUM((收盘价 - MA(20))²) / 20)<br>
                    上轨 = 中轨 + 2 × 标准差<br>
                    下轨 = 中轨 - 2 × 标准差
                </div>
            </div>

            <!-- KDJ指标 -->
            <div id="kdj">
                <h3>🎲 KDJ指标 (Stochastic Oscillator)</h3>
                <p>KDJ是一个随机指标，通过比较收盘价与最高最低价的关系，判断超买超卖状态。</p>
                
                <div class="parameters">
                    <h5>组成部分：</h5>
                    <ul>
                        <li><strong>K值</strong>：快速随机值</li>
                        <li><strong>D值</strong>：K值的平滑移动平均</li>
                        <li><strong>J值</strong>：3K - 2D</li>
                    </ul>
                    <h5>参数设置：</h5>
                    <ul>
                        <li><strong>默认周期</strong>：9日</li>
                        <li><strong>取值范围</strong>：0-100</li>
                    </ul>
                </div>
                
                <div class="signal-box sell">
                    <strong>🔴 超买信号</strong>：K > 80, D > 80，卖出信号
                </div>
                
                <div class="signal-box buy">
                    <strong>🟢 超卖信号</strong>：K < 20, D < 20，买入信号
                </div>
                
                <h4>交叉信号：</h4>
                <ul>
                    <li>K线上穿D线：金叉，买入信号</li>
                    <li>K线下穿D线：死叉，卖出信号</li>
                </ul>
                
                <div class="formula">
                    <strong>计算公式：</strong><br>
                    RSV = (收盘价 - 最低价) / (最高价 - 最低价) × 100<br>
                    K = (2/3) × 前一日K值 + (1/3) × RSV<br>
                    D = (2/3) × 前一日D值 + (1/3) × K值<br>
                    J = 3K - 2D
                </div>
            </div>
        </div>

        <!-- 图形模式识别 -->
        <div class="indicator-section" id="pattern-recognition">
            <h2>🎨 图形模式识别</h2>
            <p>系统支持经典的K线图形模式识别，包括蜡烛图模式和量价图形分析。</p>

            <!-- 蜡烛图模式 -->
            <div id="candlestick-patterns">
                <h3>🕯️ 蜡烛图模式 (Candlestick Patterns)</h3>
                
                <div class="pattern-grid">
                    <div class="pattern-card">
                        <h4>🚀 双响炮 (Double Cannon)</h4>
                        <div class="pattern-signal buy">买入信号</div>
                        <p><strong>描述：</strong>连续两根大阳线，成交量放大</p>
                        <p><strong>识别条件：</strong></p>
                        <ul>
                            <li>第一根K线涨幅 > 2%</li>
                            <li>第二根K线涨幅 > 3%</li>
                            <li>第二根成交量是第一根的1.5倍以上</li>
                        </ul>
                    </div>

                    <div class="pattern-card">
                        <h4>👥 红三兵 (Red Three Soldiers)</h4>
                        <div class="pattern-signal buy">买入信号</div>
                        <p><strong>描述：</strong>连续三根上涨K线，稳步上涨</p>
                        <p><strong>识别条件：</strong></p>
                        <ul>
                            <li>三根K线都是阳线</li>
                            <li>每根开盘价在前一根实体范围内</li>
                            <li>平均涨幅 > 1.5%</li>
                        </ul>
                    </div>

                    <div class="pattern-card">
                        <h4>☁️ 乌云盖顶 (Dark Cloud Cover)</h4>
                        <div class="pattern-signal sell">卖出信号</div>
                        <p><strong>描述：</strong>大阳线后跟大阴线，见顶信号</p>
                        <p><strong>识别条件：</strong></p>
                        <ul>
                            <li>前一根涨幅 > 2%，当前跌幅 > 2%</li>
                            <li>当前开盘价高于前一根最高价</li>
                            <li>当前收盘价低于前一根实体中点</li>
                        </ul>
                    </div>

                    <div class="pattern-card">
                        <h4>🔨 锤子线 (Hammer)</h4>
                        <div class="pattern-signal buy">买入信号</div>
                        <p><strong>描述：</strong>下影线很长的K线，见底信号</p>
                        <p><strong>识别条件：</strong></p>
                        <ul>
                            <li>下影线长度 > 实体长度的2倍</li>
                            <li>上影线长度 < 实体长度的0.5倍</li>
                        </ul>
                    </div>

                    <div class="pattern-card">
                        <h4>🌅 启明星 (Morning Star)</h4>
                        <div class="pattern-signal buy">买入信号</div>
                        <p><strong>描述：</strong>下跌趋势中的反转信号</p>
                        <p><strong>识别条件：</strong></p>
                        <ul>
                            <li>第一根：大阴线（跌幅 > 2%）</li>
                            <li>第二根：小实体K线（实体 < 1%）</li>
                            <li>第三根：大阳线（涨幅 > 2%）</li>
                        </ul>
                    </div>

                    <div class="pattern-card">
                        <h4>🌆 黄昏星 (Evening Star)</h4>
                        <div class="pattern-signal sell">卖出信号</div>
                        <p><strong>描述：</strong>上涨趋势中的反转信号</p>
                        <p><strong>识别条件：</strong></p>
                        <ul>
                            <li>第一根：大阳线（涨幅 > 2%）</li>
                            <li>第二根：小实体K线（实体 < 1%）</li>
                            <li>第三根：大阴线（跌幅 > 2%）</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- 量价图形 -->
            <div id="volume-price-patterns">
                <h3>📊 量价图形 (Volume-Price Patterns)</h3>
                
                <div class="pattern-grid">
                    <div class="pattern-card">
                        <h4>📈 量价齐升</h4>
                        <div class="pattern-signal buy">买入信号</div>
                        <p><strong>描述：</strong>价格和成交量同时上涨</p>
                        <p><strong>识别条件：</strong>价格上涨且成交量增加</p>
                        <p><strong>意义：</strong>强势信号，表明买盘积极</p>
                    </div>

                    <div class="pattern-card">
                        <h4>⚠️ 量价背离</h4>
                        <div class="pattern-signal sell">警告信号</div>
                        <p><strong>描述：</strong>价格与成交量走势相反</p>
                        <p><strong>类型：</strong></p>
                        <ul>
                            <li>顶背离：价格上涨但成交量下降</li>
                            <li>底背离：价格下跌但成交量上升</li>
                        </ul>
                        <p><strong>意义：</strong>趋势可能反转</p>
                    </div>

                    <div class="pattern-card">
                        <h4>💥 放量突破</h4>
                        <div class="pattern-signal buy">买入信号</div>
                        <p><strong>描述：</strong>价格突破重要阻力位，成交量放大</p>
                        <p><strong>识别条件：</strong></p>
                        <ul>
                            <li>价格突破20日均线</li>
                            <li>成交量是20日平均成交量的2倍以上</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- 综合分析 -->
        <div class="indicator-section" id="comprehensive-analysis">
            <h2>🧠 综合分析</h2>
            
            <h3>多指标确认</h3>
            <p>系统支持多个技术指标的综合分析，通过不同指标的相互验证，提高信号的可靠性：</p>
            <ul>
                <li><strong>趋势确认</strong>：使用MA、MACD确认趋势方向</li>
                <li><strong>超买超卖确认</strong>：使用RSI、KDJ识别极端状态</li>
                <li><strong>波动率分析</strong>：使用布林带判断价格位置</li>
                <li><strong>图形模式验证</strong>：结合K线形态增强信号强度</li>
            </ul>

            <h3>信号强度评级</h3>
            <div class="parameters">
                <h5>系统为每个识别的模式和信号提供强度评级：</h5>
                <ul>
                    <li><strong>STRONG（强）</strong>：置信度 ≥ 80%</li>
                    <li><strong>MEDIUM（中）</strong>：置信度 60-79%</li>
                    <li><strong>WEAK（弱）</strong>：置信度 < 60%</li>
                </ul>
            </div>

            <h3>风险等级评估</h3>
            <div class="parameters">
                <h5>根据信号的综合分析结果，系统提供风险等级评估：</h5>
                <ul>
                    <li><strong>LOW（低风险）</strong>：多个指标一致确认</li>
                    <li><strong>MEDIUM（中风险）</strong>：部分指标确认</li>
                    <li><strong>HIGH（高风险）</strong>：指标信号冲突或不明确</li>
                </ul>
            </div>
        </div>

        <!-- API使用 -->
        <div class="indicator-section" id="api-usage">
            <h2>🔌 API使用</h2>
            
            <div class="api-section">
                <h3>获取技术指标</h3>
                <div class="api-endpoint">
                    GET /api/stock/{stock_code}/indicators?start_date={start}&end_date={end}
                </div>
                <p>获取指定股票的技术指标数据，包括MA、MACD、RSI、BOLL、KDJ等。</p>

                <h3>获取图形模式识别结果</h3>
                <div class="api-endpoint">
                    GET /api/pattern/recognize/{stock_code}?start_date={start}&end_date={end}
                </div>
                <p>获取指定股票的图形模式识别结果。</p>

                <h3>搜索特定图形模式</h3>
                <div class="api-endpoint">
                    POST /api/pattern/search
                </div>
                <div class="formula">
{
  "ts_code": "000001.SZ",
  "start_date": "20240101",
  "end_date": "20241231",
  "patterns": ["双响炮", "红三兵"],
  "min_confidence": 70
}
                </div>
                <p>搜索符合条件的图形模式。</p>
            </div>
        </div>

        <!-- 使用建议 -->
        <div class="indicator-section" id="usage-tips">
            <h2>💡 使用建议</h2>
            
            <h3>最佳实践</h3>
            <ul>
                <li><strong>组合使用</strong>：不要依赖单一指标，建议组合多个指标进行分析</li>
                <li><strong>趋势为王</strong>：在明确的趋势中，技术指标的效果更佳</li>
                <li><strong>量价配合</strong>：关注成交量的配合，量价齐升的信号更可靠</li>
                <li><strong>风险控制</strong>：技术指标只是辅助工具，投资需要严格的风险控制</li>
                <li><strong>市场环境</strong>：不同的市场环境下，指标的有效性可能不同</li>
            </ul>

            <div class="warning-box">
                <h4>⚠️ 重要提醒</h4>
                <ul>
                    <li>技术指标具有滞后性，不能预测未来，只能分析当前状态</li>
                    <li>市场异常波动时，技术指标可能失效</li>
                    <li>建议结合基本面分析，不要单纯依赖技术分析</li>
                    <li>系统提供的信号仅供参考，投资决策需要综合考虑多种因素</li>
                    <li>请根据自身风险承受能力合理使用技术指标</li>
                </ul>
            </div>

            <div class="signal-box neutral">
                <strong>📢 免责声明</strong><br>
                本系统提供的技术指标分析和预测结果仅供参考，不构成投资建议。投资有风险，入市需谨慎。请在专业人士指导下进行投资决策。
            </div>
        </div>

        <!-- 版本信息 -->
        <div class="indicator-section">
            <p style="text-align: center; color: #6c757d; font-style: italic;">
                本文档基于 Stock-A-Future v1.0 系统编写，技术指标的具体实现可能会随版本更新而调整。
            </p>
        </div>
    </div>

    <script>
        // 平滑滚动到锚点
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>
</html>
