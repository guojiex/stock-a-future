<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>技术指标说明 - Stock-A-Future</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="stylesheet" href="styles.css">
    <style>
        .indicators-doc {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        .doc-header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 12px;
        }
        
        .doc-header h1 {
            margin: 0 0 10px 0;
            font-size: 2.5rem;
        }
        
        .doc-header p {
            margin: 0;
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            padding: 8px 16px;
            background: #f8f9fa;
            color: #495057;
            text-decoration: none;
            border-radius: 6px;
            border: 1px solid #dee2e6;
            transition: all 0.2s;
        }
        
        .back-link:hover {
            background: #e9ecef;
            text-decoration: none;
        }
        
        .toc {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
        }
        
        .toc h3 {
            margin-top: 0;
            color: #495057;
        }
        
        .toc ul {
            list-style: none;
            padding-left: 0;
        }
        
        .toc li {
            margin: 8px 0;
        }
        
        .toc a {
            color: #007bff;
            text-decoration: none;
            padding: 4px 8px;
            border-radius: 4px;
            transition: background-color 0.2s;
        }
        
        .toc a:hover {
            background: #e3f2fd;
            text-decoration: none;
        }
        
        .indicator-section {
            margin-bottom: 40px;
            padding: 25px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-left: 4px solid #007bff;
        }
        
        .indicator-section h2 {
            color: #2c3e50;
            margin-top: 0;
            margin-bottom: 15px;
            font-size: 1.8rem;
        }
        
        .indicator-section h3 {
            color: #34495e;
            margin-top: 25px;
            margin-bottom: 12px;
            font-size: 1.3rem;
        }
        
        .indicator-section h4 {
            color: #5a6c7d;
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .formula {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.95rem;
            overflow-x: auto;
        }
        
        .signal-box {
            background: #e8f5e8;
            border: 1px solid #c3e6c3;
            border-radius: 6px;
            padding: 12px;
            margin: 10px 0;
        }
        
        .signal-box.buy {
            background: #e8f5e8;
            border-color: #28a745;
        }
        
        .signal-box.sell {
            background: #ffeaea;
            border-color: #dc3545;
        }
        
        .signal-box.neutral {
            background: #fff3cd;
            border-color: #ffc107;
        }
        
        .parameters {
            background: #f1f3f4;
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .parameters h5 {
            margin-top: 0;
            color: #495057;
        }
        
        .pattern-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .pattern-card {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .pattern-card h4 {
            margin-top: 0;
            color: #495057;
        }
        
        .pattern-signal {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .pattern-signal.buy {
            background: #d4edda;
            color: #155724;
        }
        
        .pattern-signal.sell {
            background: #f8d7da;
            color: #721c24;
        }
        
        .warning-box {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 6px;
            padding: 15px;
            margin: 20px 0;
        }
        
        .warning-box h4 {
            color: #856404;
            margin-top: 0;
        }
        
        .api-section {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .api-endpoint {
            background: #2d3748;
            color: #e2e8f0;
            padding: 10px 15px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            margin: 8px 0;
            overflow-x: auto;
        }
        
        @media (max-width: 768px) {
            .indicators-doc {
                padding: 10px;
            }
            
            .doc-header h1 {
                font-size: 2rem;
            }
            
            .pattern-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="indicators-doc">
        <a href="index.html" class="back-link">← 返回主页</a>
        
        <div class="doc-header">
            <h1>📊 技术指标说明</h1>
            <p>Stock-A-Future 系统支持的技术指标详细说明</p>
        </div>

        <!-- 目录 -->
        <div class="toc">
            <h3>📋 目录</h3>
            <ul>
                <li><a href="#overview">系统概述</a></li>
                <li><a href="#traditional-indicators">传统技术指标</a>
                    <ul style="margin-left: 20px;">
                        <li><a href="#ma">移动平均线 (MA)</a></li>
                        <li><a href="#macd">MACD指标</a></li>
                        <li><a href="#rsi">RSI指标</a></li>
                        <li><a href="#boll">布林带 (BOLL)</a></li>
                        <li><a href="#kdj">KDJ指标</a></li>
                    </ul>
                </li>
                <li><a href="#momentum-indicators">动量因子指标</a>
                    <ul style="margin-left: 20px;">
                        <li><a href="#wr">威廉指标 (%R)</a></li>
                        <li><a href="#momentum">动量指标 (Momentum)</a></li>
                        <li><a href="#roc">变化率指标 (ROC)</a></li>
                    </ul>
                </li>
                <li><a href="#trend-indicators">趋势因子指标</a>
                    <ul style="margin-left: 20px;">
                        <li><a href="#adx">平均方向指数 (ADX)</a></li>
                        <li><a href="#sar">抛物线转向 (SAR)</a></li>
                        <li><a href="#ichimoku">一目均衡表 (Ichimoku)</a></li>
                    </ul>
                </li>
                <li><a href="#volatility-indicators">波动率因子指标</a>
                    <ul style="margin-left: 20px;">
                        <li><a href="#atr">平均真实范围 (ATR)</a></li>
                        <li><a href="#stddev">标准差 (StdDev)</a></li>
                        <li><a href="#hv">历史波动率 (HV)</a></li>
                    </ul>
                </li>
                <li><a href="#volume-indicators">成交量因子指标</a>
                    <ul style="margin-left: 20px;">
                        <li><a href="#vwap">成交量加权平均价 (VWAP)</a></li>
                        <li><a href="#adline">累积/派发线 (A/D Line)</a></li>
                        <li><a href="#emv">简易波动指标 (EMV)</a></li>
                        <li><a href="#vpt">量价确认指标 (VPT)</a></li>
                    </ul>
                </li>
                <li><a href="#pattern-recognition">图形模式识别</a>
                    <ul style="margin-left: 20px;">
                        <li><a href="#candlestick-patterns">蜡烛图模式</a></li>
                        <li><a href="#volume-price-patterns">量价图形</a></li>
                    </ul>
                </li>
                <li><a href="#comprehensive-analysis">综合分析</a></li>
                <li><a href="#api-usage">API使用</a></li>
                <li><a href="#usage-tips">使用建议</a></li>
            </ul>
        </div>

        <!-- 系统概述 -->
        <div class="indicator-section" id="overview">
            <h2>🎯 系统概述</h2>
            <p>Stock-A-Future 系统集成了丰富的技术指标分析功能，为股票投资决策提供全面的技术分析支持。系统支持传统技术指标计算、图形模式识别以及基于这些指标的智能预测功能。</p>
            
            <h3>主要特性</h3>
            <ul>
                <li>✅ <strong>18种核心技术指标</strong>：MA、MACD、RSI、BOLL、KDJ、WR、Momentum、ROC、ADX、SAR、Ichimoku、ATR、StdDev、HV、VWAP、A/D Line、EMV、VPT</li>
                <li>✅ <strong>6种蜡烛图模式识别</strong>：双响炮、红三兵、乌云盖顶等</li>
                <li>✅ <strong>3种量价图形识别</strong>：量价齐升、量价背离、放量突破</li>
                <li>✅ <strong>智能信号强度评级</strong>：STRONG、MEDIUM、WEAK</li>
                <li>✅ <strong>风险等级评估</strong>：LOW、MEDIUM、HIGH</li>
                <li>✅ <strong>多指标综合分析</strong>：提高信号可靠性</li>
            </ul>
        </div>

        <!-- 传统技术指标 -->
        <div class="indicator-section" id="traditional-indicators">
            <h2>📈 传统技术指标</h2>
            
            <!-- 移动平均线 -->
            <div id="ma">
                <h3>📊 移动平均线 (Moving Average - MA)</h3>
                <p>移动平均线是最基础也是最重要的技术指标之一，用于平滑价格波动，识别趋势方向。</p>
                
                <div class="parameters">
                    <h5>支持的周期：</h5>
                    <ul>
                        <li><strong>MA5</strong>：5日移动平均线 - 短期趋势</li>
                        <li><strong>MA10</strong>：10日移动平均线 - 短期趋势</li>
                        <li><strong>MA20</strong>：20日移动平均线 - 中期趋势</li>
                        <li><strong>MA60</strong>：60日移动平均线 - 中长期趋势</li>
                        <li><strong>MA120</strong>：120日移动平均线 - 长期趋势</li>
                    </ul>
                </div>
                
                <div class="formula">
                    <strong>计算公式：</strong><br>
                    MA(n) = (P1 + P2 + ... + Pn) / n<br>
                    其中 P 为收盘价，n 为周期
                </div>
                
                <h4>应用场景：</h4>
                <ul>
                    <li>判断股价趋势方向</li>
                    <li>寻找支撑和阻力位</li>
                    <li>金叉死叉信号识别</li>
                </ul>
            </div>

            <!-- MACD指标 -->
            <div id="macd">
                <h3>⚡ MACD指标 (Moving Average Convergence Divergence)</h3>
                <p>MACD是一个趋势跟踪动量指标，通过计算两条不同速度的指数移动平均线的差值来分析股价走势。</p>
                
                <div class="parameters">
                    <h5>组成部分：</h5>
                    <ul>
                        <li><strong>DIF线</strong>：12日EMA - 26日EMA</li>
                        <li><strong>DEA线</strong>：DIF的9日EMA（信号线）</li>
                        <li><strong>MACD柱状图</strong>：(DIF - DEA) × 2</li>
                    </ul>
                </div>
                
                <div class="signal-box buy">
                    <strong>🟢 金叉信号</strong>：MACD由负转正，买入信号
                </div>
                
                <div class="signal-box sell">
                    <strong>🔴 死叉信号</strong>：MACD由正转负，卖出信号
                </div>
                
                <div class="formula">
                    <strong>计算公式：</strong><br>
                    EMA(12) = 前一日EMA(12) × 11/13 + 今日收盘价 × 2/13<br>
                    EMA(26) = 前一日EMA(26) × 25/27 + 今日收盘价 × 2/27<br>
                    DIF = EMA(12) - EMA(26)<br>
                    DEA = 前一日DEA × 8/10 + 今日DIF × 2/10<br>
                    MACD = (DIF - DEA) × 2
                </div>
            </div>

            <!-- RSI指标 -->
            <div id="rsi">
                <h3>🎯 RSI指标 (Relative Strength Index)</h3>
                <p>RSI是一个动量振荡器，用于测量价格变动的速度和幅度，识别超买超卖状态。</p>
                
                <div class="parameters">
                    <h5>参数设置：</h5>
                    <ul>
                        <li><strong>默认周期</strong>：14日</li>
                        <li><strong>取值范围</strong>：0-100</li>
                    </ul>
                </div>
                
                <div class="signal-box sell">
                    <strong>🔴 超买状态</strong>：RSI > 70，可能出现回调
                </div>
                
                <div class="signal-box buy">
                    <strong>🟢 超卖状态</strong>：RSI < 30，可能出现反弹
                </div>
                
                <div class="signal-box neutral">
                    <strong>🟡 平衡状态</strong>：RSI = 50，多空平衡点
                </div>
                
                <div class="formula">
                    <strong>计算公式：</strong><br>
                    RS = 平均上涨幅度 / 平均下跌幅度<br>
                    RSI = 100 - (100 / (1 + RS))
                </div>
            </div>

            <!-- 布林带 -->
            <div id="boll">
                <h3>📏 布林带 (Bollinger Bands - BOLL)</h3>
                <p>布林带是一个波动率指标，由三条线组成，用于判断价格的相对高低位置。</p>
                
                <div class="parameters">
                    <h5>组成部分：</h5>
                    <ul>
                        <li><strong>中轨</strong>：20日移动平均线</li>
                        <li><strong>上轨</strong>：中轨 + 2倍标准差</li>
                        <li><strong>下轨</strong>：中轨 - 2倍标准差</li>
                    </ul>
                </div>
                
                <h4>信号识别：</h4>
                <ul>
                    <li>价格触及上轨：可能超买，关注卖出机会</li>
                    <li>价格触及下轨：可能超卖，关注买入机会</li>
                    <li>布林带收窄：波动率降低，可能酝酿大行情</li>
                    <li>布林带扩张：波动率增加，趋势可能加速</li>
                </ul>
                
                <div class="formula">
                    <strong>计算公式：</strong><br>
                    中轨 = MA(20)<br>
                    标准差 = SQRT(SUM((收盘价 - MA(20))²) / 20)<br>
                    上轨 = 中轨 + 2 × 标准差<br>
                    下轨 = 中轨 - 2 × 标准差
                </div>
            </div>

            <!-- KDJ指标 -->
            <div id="kdj">
                <h3>🎲 KDJ指标 (Stochastic Oscillator)</h3>
                <p>KDJ是一个随机指标，通过比较收盘价与最高最低价的关系，判断超买超卖状态。</p>
                
                <div class="parameters">
                    <h5>组成部分：</h5>
                    <ul>
                        <li><strong>K值</strong>：快速随机值</li>
                        <li><strong>D值</strong>：K值的平滑移动平均</li>
                        <li><strong>J值</strong>：3K - 2D</li>
                    </ul>
                    <h5>参数设置：</h5>
                    <ul>
                        <li><strong>默认周期</strong>：9日</li>
                        <li><strong>取值范围</strong>：0-100</li>
                    </ul>
                </div>
                
                <div class="signal-box sell">
                    <strong>🔴 超买信号</strong>：K > 80, D > 80，卖出信号
                </div>
                
                <div class="signal-box buy">
                    <strong>🟢 超卖信号</strong>：K < 20, D < 20，买入信号
                </div>
                
                <h4>交叉信号：</h4>
                <ul>
                    <li>K线上穿D线：金叉，买入信号</li>
                    <li>K线下穿D线：死叉，卖出信号</li>
                </ul>
                
                <div class="formula">
                    <strong>计算公式：</strong><br>
                    RSV = (收盘价 - 最低价) / (最高价 - 最低价) × 100<br>
                    K = (2/3) × 前一日K值 + (1/3) × RSV<br>
                    D = (2/3) × 前一日D值 + (1/3) × K值<br>
                    J = 3K - 2D
                </div>
            </div>
        </div>

        <!-- 动量因子指标 -->
        <div class="indicator-section" id="momentum-indicators">
            <h2>⚡ 动量因子指标</h2>
            <p>动量因子指标用于衡量价格变化的速度和力度，帮助识别超买超卖状态和趋势强度。</p>
            
            <!-- 威廉指标 -->
            <div id="wr">
                <h3>📊 威廉指标 (Williams %R)</h3>
                <p>威廉指标是一个动量振荡器，用于确定股票的超买和超卖水平。</p>
                
                <div class="parameters">
                    <h5>参数设置：</h5>
                    <ul>
                        <li><strong>默认周期</strong>：14日</li>
                        <li><strong>取值范围</strong>：-100 到 0</li>
                    </ul>
                </div>
                
                <div class="signal-box sell">
                    <strong>🔴 超买状态</strong>：%R > -20，可能出现回调
                </div>
                
                <div class="signal-box buy">
                    <strong>🟢 超卖状态</strong>：%R < -80，可能出现反弹
                </div>
                
                <div class="formula">
                    <strong>计算公式：</strong><br>
                    %R = (最高价 - 收盘价) / (最高价 - 最低价) × (-100)
                </div>
            </div>

            <!-- 动量指标 -->
            <div id="momentum">
                <h3>🚀 动量指标 (Momentum)</h3>
                <p>动量指标通过比较当前价格与过去价格的差值，衡量价格变化的速度。</p>
                
                <div class="parameters">
                    <h5>计算周期：</h5>
                    <ul>
                        <li><strong>10日动量</strong>：短期动量</li>
                        <li><strong>20日动量</strong>：中期动量</li>
                    </ul>
                </div>
                
                <div class="signal-box buy">
                    <strong>🟢 双重正动量</strong>：10日和20日动量均为正，买入信号
                </div>
                
                <div class="signal-box sell">
                    <strong>🔴 双重负动量</strong>：10日和20日动量均为负，卖出信号
                </div>
                
                <div class="formula">
                    <strong>计算公式：</strong><br>
                    动量 = 当前收盘价 - N日前收盘价
                </div>
            </div>

            <!-- 变化率指标 -->
            <div id="roc">
                <h3>📈 变化率指标 (Rate of Change - ROC)</h3>
                <p>ROC指标衡量价格在特定时间段内的百分比变化，用于识别趋势强度。</p>
                
                <div class="parameters">
                    <h5>计算周期：</h5>
                    <ul>
                        <li><strong>10日ROC</strong>：短期变化率</li>
                        <li><strong>20日ROC</strong>：中期变化率</li>
                    </ul>
                </div>
                
                <div class="signal-box buy">
                    <strong>🟢 强势上涨</strong>：10日ROC > 5% 且 20日ROC > 10%
                </div>
                
                <div class="signal-box sell">
                    <strong>🔴 强势下跌</strong>：10日ROC < -5% 且 20日ROC < -10%
                </div>
                
                <div class="formula">
                    <strong>计算公式：</strong><br>
                    ROC = (当前收盘价 - N日前收盘价) / N日前收盘价 × 100%
                </div>
            </div>
        </div>

        <!-- 趋势因子指标 -->
        <div class="indicator-section" id="trend-indicators">
            <h2>📊 趋势因子指标</h2>
            <p>趋势因子指标用于识别和确认价格趋势的方向和强度。</p>
            
            <!-- ADX指标 -->
            <div id="adx">
                <h3>🎯 平均方向指数 (Average Directional Index - ADX)</h3>
                <p>ADX用于衡量趋势的强度，不考虑趋势方向。</p>
                
                <div class="parameters">
                    <h5>组成部分：</h5>
                    <ul>
                        <li><strong>ADX</strong>：趋势强度指数</li>
                        <li><strong>+DI</strong>：正方向指数</li>
                        <li><strong>-DI</strong>：负方向指数</li>
                    </ul>
                </div>
                
                <div class="signal-box buy">
                    <strong>🟢 强势上涨趋势</strong>：ADX > 25 且 +DI > -DI
                </div>
                
                <div class="signal-box sell">
                    <strong>🔴 强势下跌趋势</strong>：ADX > 25 且 +DI < -DI
                </div>
                
                <h4>趋势强度判断：</h4>
                <ul>
                    <li>ADX < 25：趋势较弱或横盘整理</li>
                    <li>ADX 25-50：中等强度趋势</li>
                    <li>ADX > 50：强势趋势</li>
                </ul>
            </div>

            <!-- SAR指标 -->
            <div id="sar">
                <h3>🔄 抛物线转向 (Parabolic SAR)</h3>
                <p>SAR指标用于确定趋势转换点，提供止损和入场信号。</p>
                
                <div class="parameters">
                    <h5>参数设置：</h5>
                    <ul>
                        <li><strong>初始加速因子</strong>：0.02</li>
                        <li><strong>最大加速因子</strong>：0.2</li>
                    </ul>
                </div>
                
                <div class="signal-box buy">
                    <strong>🟢 趋势反转向上</strong>：SAR从上方转到价格下方
                </div>
                
                <div class="signal-box sell">
                    <strong>🔴 趋势反转向下</strong>：SAR从下方转到价格上方
                </div>
                
                <h4>应用方法：</h4>
                <ul>
                    <li>SAR在价格下方：上升趋势，持有多头</li>
                    <li>SAR在价格上方：下降趋势，持有空头</li>
                    <li>SAR转换位置：趋势可能反转</li>
                </ul>
            </div>

            <!-- 一目均衡表 -->
            <div id="ichimoku">
                <h3>☁️ 一目均衡表 (Ichimoku Cloud)</h3>
                <p>一目均衡表是一个综合性技术指标，提供支撑阻力、趋势方向和动量信息。</p>
                
                <div class="parameters">
                    <h5>组成部分：</h5>
                    <ul>
                        <li><strong>转换线</strong>：(9日最高+最低)/2</li>
                        <li><strong>基准线</strong>：(26日最高+最低)/2</li>
                        <li><strong>先行带A</strong>：(转换线+基准线)/2</li>
                        <li><strong>先行带B</strong>：(52日最高+最低)/2</li>
                        <li><strong>滞后线</strong>：当前收盘价</li>
                    </ul>
                </div>
                
                <div class="signal-box buy">
                    <strong>🟢 多头排列</strong>：转换线>基准线，价格>云带上沿
                </div>
                
                <div class="signal-box sell">
                    <strong>🔴 空头排列</strong>：转换线<基准线，价格<云带下沿
                </div>
                
                <h4>云带分析：</h4>
                <ul>
                    <li>价格在云带上方：强势上涨趋势</li>
                    <li>价格在云带内部：震荡整理</li>
                    <li>价格在云带下方：弱势下跌趋势</li>
                </ul>
            </div>
        </div>

        <!-- 波动率因子指标 -->
        <div class="indicator-section" id="volatility-indicators">
            <h2>📊 波动率因子指标</h2>
            <p>波动率因子指标用于衡量价格波动的程度和市场的不确定性。</p>
            
            <!-- ATR指标 -->
            <div id="atr">
                <h3>📏 平均真实范围 (Average True Range - ATR)</h3>
                <p>ATR衡量价格波动的幅度，常用于设置止损位和仓位管理。</p>
                
                <div class="parameters">
                    <h5>参数设置：</h5>
                    <ul>
                        <li><strong>默认周期</strong>：14日</li>
                        <li><strong>计算方式</strong>：真实范围的移动平均</li>
                    </ul>
                </div>
                
                <div class="signal-box neutral">
                    <strong>🟡 高波动率</strong>：ATR显著增加，市场波动加剧
                </div>
                
                <div class="signal-box neutral">
                    <strong>🟡 低波动率</strong>：ATR显著减少，市场趋于平静
                </div>
                
                <div class="formula">
                    <strong>真实范围计算：</strong><br>
                    TR = MAX(高-低, |高-昨收|, |低-昨收|)<br>
                    ATR = TR的N日移动平均
                </div>
            </div>

            <!-- 标准差指标 -->
            <div id="stddev">
                <h3>📊 标准差 (Standard Deviation)</h3>
                <p>标准差衡量价格相对于平均价格的离散程度。</p>
                
                <div class="parameters">
                    <h5>参数设置：</h5>
                    <ul>
                        <li><strong>默认周期</strong>：20日</li>
                        <li><strong>应用</strong>：波动率分析、风险评估</li>
                    </ul>
                </div>
                
                <div class="signal-box neutral">
                    <strong>🟡 高波动率</strong>：标准差 > 平均价格的5%
                </div>
                
                <div class="signal-box neutral">
                    <strong>🟡 低波动率</strong>：标准差 < 平均价格的2%
                </div>
                
                <div class="formula">
                    <strong>计算公式：</strong><br>
                    σ = √(Σ(价格-平均价格)² / N)
                </div>
            </div>

            <!-- 历史波动率 -->
            <div id="hv">
                <h3>📈 历史波动率 (Historical Volatility)</h3>
                <p>历史波动率基于过去的价格变动计算年化波动率。</p>
                
                <div class="parameters">
                    <h5>计算周期：</h5>
                    <ul>
                        <li><strong>20日HV</strong>：短期波动率</li>
                        <li><strong>60日HV</strong>：中期波动率</li>
                    </ul>
                </div>
                
                <div class="signal-box neutral">
                    <strong>🟡 高波动率</strong>：HV > 30%，市场不确定性高
                </div>
                
                <div class="signal-box neutral">
                    <strong>🟡 低波动率</strong>：HV < 15%，市场相对稳定
                </div>
                
                <div class="formula">
                    <strong>计算公式：</strong><br>
                    日收益率 = ln(今日收盘价/昨日收盘价)<br>
                    HV = 收益率标准差 × √252
                </div>
            </div>
        </div>

        <!-- 成交量因子指标 -->
        <div class="indicator-section" id="volume-indicators">
            <h2>📊 成交量因子指标</h2>
            <p>成交量因子指标结合价格和成交量信息，提供更全面的市场分析。</p>
            
            <!-- VWAP指标 -->
            <div id="vwap">
                <h3>⚖️ 成交量加权平均价 (Volume Weighted Average Price - VWAP)</h3>
                <p>VWAP是基于成交量加权的平均价格，反映真实的市场交易成本。</p>
                
                <div class="signal-box buy">
                    <strong>🟢 价格强势</strong>：当前价格 > VWAP，买盘积极
                </div>
                
                <div class="signal-box sell">
                    <strong>🔴 价格弱势</strong>：当前价格 < VWAP，卖盘压力大
                </div>
                
                <div class="formula">
                    <strong>计算公式：</strong><br>
                    典型价格 = (最高价+最低价+收盘价)/3<br>
                    VWAP = Σ(典型价格×成交量) / Σ成交量
                </div>
                
                <h4>应用场景：</h4>
                <ul>
                    <li>机构交易成本基准</li>
                    <li>日内交易参考点</li>
                    <li>支撑阻力位判断</li>
                </ul>
            </div>

            <!-- A/D线 -->
            <div id="adline">
                <h3>📊 累积/派发线 (Accumulation/Distribution Line)</h3>
                <p>A/D线通过价格和成交量的关系，判断资金的流入流出。</p>
                
                <div class="signal-box buy">
                    <strong>🟢 资金流入</strong>：A/D线上升且价格上涨，确认上涨趋势
                </div>
                
                <div class="signal-box sell">
                    <strong>🔴 资金流出</strong>：A/D线下降且价格下跌，确认下跌趋势
                </div>
                
                <div class="formula">
                    <strong>计算公式：</strong><br>
                    资金流量乘数 = ((收盘-最低)-(最高-收盘))/(最高-最低)<br>
                    资金流量 = 资金流量乘数 × 成交量<br>
                    A/D线 = 前期A/D线 + 当期资金流量
                </div>
                
                <h4>背离分析：</h4>
                <ul>
                    <li>价格创新高，A/D线不创新高：顶背离</li>
                    <li>价格创新低，A/D线不创新低：底背离</li>
                </ul>
            </div>

            <!-- EMV指标 -->
            <div id="emv">
                <h3>🎯 简易波动指标 (Ease of Movement - EMV)</h3>
                <p>EMV指标衡量价格变动的难易程度，结合价格变化和成交量。</p>
                
                <div class="parameters">
                    <h5>参数设置：</h5>
                    <ul>
                        <li><strong>默认周期</strong>：14日</li>
                        <li><strong>平滑处理</strong>：使用移动平均</li>
                    </ul>
                </div>
                
                <div class="signal-box buy">
                    <strong>🟢 上涨容易</strong>：EMV > 0，价格上涨阻力小
                </div>
                
                <div class="signal-box sell">
                    <strong>🔴 下跌容易</strong>：EMV < 0，价格下跌压力大
                </div>
                
                <div class="formula">
                    <strong>计算公式：</strong><br>
                    距离移动 = (今日中点价-昨日中点价)<br>
                    盒子高度 = 成交量/(最高价-最低价)<br>
                    EMV = 距离移动/盒子高度
                </div>
            </div>

            <!-- VPT指标 -->
            <div id="vpt">
                <h3>📈 量价确认指标 (Volume Price Trend - VPT)</h3>
                <p>VPT指标基于价格变化率和成交量，确认价格趋势的可靠性。</p>
                
                <div class="signal-box buy">
                    <strong>🟢 趋势确认</strong>：VPT上升且价格上涨，确认上涨趋势
                </div>
                
                <div class="signal-box sell">
                    <strong>🔴 趋势确认</strong>：VPT下降且价格下跌，确认下跌趋势
                </div>
                
                <div class="formula">
                    <strong>计算公式：</strong><br>
                    价格变化率 = (今日收盘-昨日收盘)/昨日收盘<br>
                    VPT = 前期VPT + 成交量×价格变化率
                </div>
                
                <h4>信号识别：</h4>
                <ul>
                    <li>VPT与价格同向：趋势可靠</li>
                    <li>VPT与价格背离：趋势可能反转</li>
                    <li>VPT突破前期高低点：趋势加速</li>
                </ul>
            </div>
        </div>

        <!-- 图形模式识别 -->
        <div class="indicator-section" id="pattern-recognition">
            <h2>🎨 图形模式识别</h2>
            <p>系统支持经典的K线图形模式识别，包括蜡烛图模式和量价图形分析。</p>

            <!-- 蜡烛图模式 -->
            <div id="candlestick-patterns">
                <h3>🕯️ 蜡烛图模式 (Candlestick Patterns)</h3>
                
                <div class="pattern-grid">
                    <div class="pattern-card">
                        <h4>🚀 双响炮 (Double Cannon)</h4>
                        <div class="pattern-signal buy">买入信号</div>
                        <p><strong>描述：</strong>连续两根大阳线，成交量放大</p>
                        <p><strong>识别条件：</strong></p>
                        <ul>
                            <li>第一根K线涨幅 > 2%</li>
                            <li>第二根K线涨幅 > 3%</li>
                            <li>第二根成交量是第一根的1.5倍以上</li>
                        </ul>
                    </div>

                    <div class="pattern-card">
                        <h4>👥 红三兵 (Red Three Soldiers)</h4>
                        <div class="pattern-signal buy">买入信号</div>
                        <p><strong>描述：</strong>连续三根上涨K线，稳步上涨</p>
                        <p><strong>识别条件：</strong></p>
                        <ul>
                            <li>三根K线都是阳线</li>
                            <li>每根开盘价在前一根实体范围内</li>
                            <li>平均涨幅 > 1.5%</li>
                        </ul>
                    </div>

                    <div class="pattern-card">
                        <h4>☁️ 乌云盖顶 (Dark Cloud Cover)</h4>
                        <div class="pattern-signal sell">卖出信号</div>
                        <p><strong>描述：</strong>大阳线后跟大阴线，见顶信号</p>
                        <p><strong>识别条件：</strong></p>
                        <ul>
                            <li>前一根涨幅 > 2%，当前跌幅 > 2%</li>
                            <li>当前开盘价高于前一根最高价</li>
                            <li>当前收盘价低于前一根实体中点</li>
                        </ul>
                    </div>

                    <div class="pattern-card">
                        <h4>🔨 锤子线 (Hammer)</h4>
                        <div class="pattern-signal buy">买入信号</div>
                        <p><strong>描述：</strong>下影线很长的K线，见底信号</p>
                        <p><strong>识别条件：</strong></p>
                        <ul>
                            <li>下影线长度 > 实体长度的2倍</li>
                            <li>上影线长度 < 实体长度的0.5倍</li>
                        </ul>
                    </div>

                    <div class="pattern-card">
                        <h4>🌅 启明星 (Morning Star)</h4>
                        <div class="pattern-signal buy">买入信号</div>
                        <p><strong>描述：</strong>下跌趋势中的反转信号</p>
                        <p><strong>识别条件：</strong></p>
                        <ul>
                            <li>第一根：大阴线（跌幅 > 2%）</li>
                            <li>第二根：小实体K线（实体 < 1%）</li>
                            <li>第三根：大阳线（涨幅 > 2%）</li>
                        </ul>
                    </div>

                    <div class="pattern-card">
                        <h4>🌆 黄昏星 (Evening Star)</h4>
                        <div class="pattern-signal sell">卖出信号</div>
                        <p><strong>描述：</strong>上涨趋势中的反转信号</p>
                        <p><strong>识别条件：</strong></p>
                        <ul>
                            <li>第一根：大阳线（涨幅 > 2%）</li>
                            <li>第二根：小实体K线（实体 < 1%）</li>
                            <li>第三根：大阴线（跌幅 > 2%）</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- 量价图形 -->
            <div id="volume-price-patterns">
                <h3>📊 量价图形 (Volume-Price Patterns)</h3>
                
                <div class="pattern-grid">
                    <div class="pattern-card">
                        <h4>📈 量价齐升</h4>
                        <div class="pattern-signal buy">买入信号</div>
                        <p><strong>描述：</strong>价格和成交量同时上涨</p>
                        <p><strong>识别条件：</strong>价格上涨且成交量增加</p>
                        <p><strong>意义：</strong>强势信号，表明买盘积极</p>
                    </div>

                    <div class="pattern-card">
                        <h4>⚠️ 量价背离</h4>
                        <div class="pattern-signal sell">警告信号</div>
                        <p><strong>描述：</strong>价格与成交量走势相反</p>
                        <p><strong>类型：</strong></p>
                        <ul>
                            <li>顶背离：价格上涨但成交量下降</li>
                            <li>底背离：价格下跌但成交量上升</li>
                        </ul>
                        <p><strong>意义：</strong>趋势可能反转</p>
                    </div>

                    <div class="pattern-card">
                        <h4>💥 放量突破</h4>
                        <div class="pattern-signal buy">买入信号</div>
                        <p><strong>描述：</strong>价格突破重要阻力位，成交量放大</p>
                        <p><strong>识别条件：</strong></p>
                        <ul>
                            <li>价格突破20日均线</li>
                            <li>成交量是20日平均成交量的2倍以上</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- 综合分析 -->
        <div class="indicator-section" id="comprehensive-analysis">
            <h2>🧠 综合分析</h2>
            
            <h3>多指标确认</h3>
            <p>系统支持多个技术指标的综合分析，通过不同指标的相互验证，提高信号的可靠性：</p>
            <ul>
                <li><strong>趋势确认</strong>：使用MA、MACD确认趋势方向</li>
                <li><strong>超买超卖确认</strong>：使用RSI、KDJ识别极端状态</li>
                <li><strong>波动率分析</strong>：使用布林带判断价格位置</li>
                <li><strong>图形模式验证</strong>：结合K线形态增强信号强度</li>
            </ul>

            <h3>信号强度评级</h3>
            <div class="parameters">
                <h5>系统为每个识别的模式和信号提供强度评级：</h5>
                <ul>
                    <li><strong>STRONG（强）</strong>：置信度 ≥ 80%</li>
                    <li><strong>MEDIUM（中）</strong>：置信度 60-79%</li>
                    <li><strong>WEAK（弱）</strong>：置信度 < 60%</li>
                </ul>
            </div>

            <h3>风险等级评估</h3>
            <div class="parameters">
                <h5>根据信号的综合分析结果，系统提供风险等级评估：</h5>
                <ul>
                    <li><strong>LOW（低风险）</strong>：多个指标一致确认</li>
                    <li><strong>MEDIUM（中风险）</strong>：部分指标确认</li>
                    <li><strong>HIGH（高风险）</strong>：指标信号冲突或不明确</li>
                </ul>
            </div>
        </div>

        <!-- API使用 -->
        <div class="indicator-section" id="api-usage">
            <h2>🔌 API使用</h2>
            
            <div class="api-section">
                <h3>获取技术指标</h3>
                <div class="api-endpoint">
                    GET /api/stock/{stock_code}/indicators?start_date={start}&end_date={end}
                </div>
                <p>获取指定股票的技术指标数据，包括MA、MACD、RSI、BOLL、KDJ等。</p>

                <h3>获取图形模式识别结果</h3>
                <div class="api-endpoint">
                    GET /api/pattern/recognize/{stock_code}?start_date={start}&end_date={end}
                </div>
                <p>获取指定股票的图形模式识别结果。</p>

                <h3>搜索特定图形模式</h3>
                <div class="api-endpoint">
                    POST /api/pattern/search
                </div>
                <div class="formula">
{
  "ts_code": "000001.SZ",
  "start_date": "20240101",
  "end_date": "20241231",
  "patterns": ["双响炮", "红三兵"],
  "min_confidence": 70
}
                </div>
                <p>搜索符合条件的图形模式。</p>
            </div>
        </div>

        <!-- 使用建议 -->
        <div class="indicator-section" id="usage-tips">
            <h2>💡 使用建议</h2>
            
            <h3>最佳实践</h3>
            <ul>
                <li><strong>组合使用</strong>：不要依赖单一指标，建议组合多个指标进行分析</li>
                <li><strong>趋势为王</strong>：在明确的趋势中，技术指标的效果更佳</li>
                <li><strong>量价配合</strong>：关注成交量的配合，量价齐升的信号更可靠</li>
                <li><strong>风险控制</strong>：技术指标只是辅助工具，投资需要严格的风险控制</li>
                <li><strong>市场环境</strong>：不同的市场环境下，指标的有效性可能不同</li>
            </ul>

            <div class="warning-box">
                <h4>⚠️ 重要提醒</h4>
                <ul>
                    <li>技术指标具有滞后性，不能预测未来，只能分析当前状态</li>
                    <li>市场异常波动时，技术指标可能失效</li>
                    <li>建议结合基本面分析，不要单纯依赖技术分析</li>
                    <li>系统提供的信号仅供参考，投资决策需要综合考虑多种因素</li>
                    <li>请根据自身风险承受能力合理使用技术指标</li>
                </ul>
            </div>

            <div class="signal-box neutral">
                <strong>📢 免责声明</strong><br>
                本系统提供的技术指标分析和预测结果仅供参考，不构成投资建议。投资有风险，入市需谨慎。请在专业人士指导下进行投资决策。
            </div>
        </div>

        <!-- 版本信息 -->
        <div class="indicator-section">
            <p style="text-align: center; color: #6c757d; font-style: italic;">
                本文档基于 Stock-A-Future v1.0 系统编写，技术指标的具体实现可能会随版本更新而调整。
            </p>
        </div>
    </div>

    <script>
        // 平滑滚动到锚点
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>
</html>
