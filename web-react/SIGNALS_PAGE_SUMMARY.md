# æ”¶è—è‚¡ç¥¨ä¿¡å·æ±‡æ€»åŠŸèƒ½ - å®ç°æ€»ç»“

## âœ… ä»»åŠ¡å®Œæˆ

React Webç‰ˆç°å·²æˆåŠŸå®ç°ä¸åŸç”ŸWebç‰ˆç›¸åŒçš„**æ”¶è—è‚¡ç¥¨ä¿¡å·æ±‡æ€»**åŠŸèƒ½ï¼

## ğŸ“‹ å®Œæˆçš„å·¥ä½œ

### 1. ç±»å‹å®šä¹‰ âœ…
**æ–‡ä»¶**: `web-react/src/types/stock.ts`

æ–°å¢ç±»å‹ï¼š
- `FavoriteSignal` - æ”¶è—è‚¡ç¥¨ä¿¡å·æ•°æ®ç»“æ„
- `FavoritesSignalsResponse` - APIå“åº”æ ¼å¼

```typescript
interface FavoriteSignal {
  id: string;
  ts_code: string;
  name: string;
  group_id?: string;
  current_price: string;
  trade_date: string;
  indicators: TechnicalIndicators;
  predictions: TradingPointPrediction[];
  updated_at: string;
}
```

### 2. APIæœåŠ¡ âœ…
**æ–‡ä»¶**: `web-react/src/services/api.ts`

æ–°å¢ç«¯ç‚¹ï¼š
- `getFavoritesSignals` - è·å–æ”¶è—è‚¡ç¥¨ä¿¡å·æ±‡æ€»
- å¯¼å‡º hooks: `useGetFavoritesSignalsQuery`, `useLazyGetFavoritesSignalsQuery`

```typescript
getFavoritesSignals: builder.query<ApiResponse<FavoritesSignalsResponse>, void>({
  query: () => 'favorites/signals',
  providesTags: ['FavoriteSignals', 'Favorites'],
}),
```

### 3. ä¿¡å·æ±‡æ€»é¡µé¢ âœ…
**æ–‡ä»¶**: `web-react/src/pages/SignalsPage.tsx`

åŠŸèƒ½ç‰¹æ€§ï¼š
- âœ… å®æ—¶è·å–æ‰€æœ‰æ”¶è—è‚¡ç¥¨çš„ä¹°å–ä¿¡å·
- âœ… æ™ºèƒ½åˆ†ç±»ï¼ˆä¹°å…¥/å–å‡º/æŒæœ‰/æ··åˆï¼‰
- âœ… ç½®ä¿¡åº¦æ’åº
- âœ… ç»Ÿè®¡é¢æ¿ï¼ˆæ€»æ•°ã€ä¹°å…¥ã€å–å‡ºã€æŒæœ‰ï¼‰
- âœ… æ ‡ç­¾é¡µç­›é€‰
- âœ… ç²¾ç¾çš„ä¿¡å·å¡ç‰‡å±•ç¤º
- âœ… æ‰‹åŠ¨åˆ·æ–°åŠŸèƒ½
- âœ… è®¡ç®—çŠ¶æ€æç¤º
- âœ… å“åº”å¼è®¾è®¡

### 4. è·¯ç”±é…ç½® âœ…
**æ–‡ä»¶**: `web-react/src/App.tsx`

```tsx
<Route path="signals" element={<SignalsPage />} />
```

### 5. å¯¼èˆªèœå• âœ…
**æ–‡ä»¶**: `web-react/src/components/common/Layout.tsx`

æ–°å¢å¯¼èˆªé¡¹ï¼š
- æ¡Œé¢ç«¯ï¼šé¡¶éƒ¨æ ‡ç­¾æ  "ä¿¡å·"
- ç§»åŠ¨ç«¯ï¼šåº•éƒ¨å¯¼èˆª "ä¿¡å·"ï¼ˆé“ƒé“›å›¾æ ‡ï¼‰

```tsx
{ label: 'ä¿¡å·', value: '/signals', icon: <SignalsIcon /> }
```

### 6. æ–‡æ¡£ âœ…
- `web-react/SIGNALS_PAGE.md` - å®Œæ•´åŠŸèƒ½æ–‡æ¡£
- `web-react/SIGNALS_PAGE_SUMMARY.md` - å®ç°æ€»ç»“

## ğŸ¨ ç•Œé¢æ•ˆæœ

### ç»Ÿè®¡é¢æ¿
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ€»æ•°: 10 â”‚ ä¹°å…¥: 5  â”‚ å–å‡º: 3  â”‚ æŒæœ‰: 2  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¿¡å·å¡ç‰‡ç¤ºä¾‹
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŸ¢ å¥æ°‘é›†å›¢ 600976.SH          [ä¹°å…¥ä¿¡å·]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å½“å‰ä»·æ ¼: Â¥32.50    äº¤æ˜“æ—¥æœŸ: 20240118     â”‚
â”‚ ç½®ä¿¡åº¦: â—â—‹â—‹â—‹â—‹ 85%                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ é¢„æµ‹ä¿¡å·:                                   â”‚
â”‚  ğŸŸ¢ ä¹°å…¥: MACDé‡‘å‰                          â”‚
â”‚     æŒ‡æ ‡: MACD, RSI                         â”‚
â”‚     æ¦‚ç‡: 85.0%                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                         [æŸ¥çœ‹è¯¦æƒ…] æŒ‰é’®      â”‚
â”‚ æ›´æ–°æ—¶é—´: 2024-01-18 15:30:00              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”Œ APIé›†æˆ

### åç«¯æ¥å£
```
GET /api/v1/favorites/signals
```

### å“åº”ç¤ºä¾‹
```json
{
  "success": true,
  "data": {
    "total": 10,
    "signals": [
      {
        "id": "uuid",
        "ts_code": "600976.SH",
        "name": "å¥æ°‘é›†å›¢",
        "current_price": "32.50",
        "trade_date": "20240118",
        "predictions": [
          {
            "type": "BUY",
            "probability": 0.85,
            "reason": "MACDé‡‘å‰",
            "indicators": ["MACD", "RSI"]
          }
        ],
        "updated_at": "2024-01-18 15:30:00"
      }
    ],
    "calculating": false
  }
}
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### ä¿¡å·åˆ†ç±»é€»è¾‘
```typescript
// ä¹°å…¥ä¿¡å·ï¼šåªæœ‰BUYï¼Œæ²¡æœ‰SELL
const hasBuy = signal.predictions.some(p => p.type === 'BUY');
const hasSell = signal.predictions.some(p => p.type === 'SELL');

if (hasBuy && !hasSell) return 'buy';      // ç»¿è‰²
if (hasSell && !hasBuy) return 'sell';     // çº¢è‰²
if (!hasBuy && !hasSell) return 'hold';    // æ©™è‰²
if (hasBuy && hasSell) return 'mixed';     // ç´«è‰²
```

### ç½®ä¿¡åº¦æ’åº
```typescript
// è·å–æ¯ä¸ªè‚¡ç¥¨çš„æœ€é«˜ç½®ä¿¡åº¦
const maxConfidence = Math.max(
  ...signal.predictions.map(p => p.probability)
);

// æŒ‰ç½®ä¿¡åº¦é™åºæ’åˆ—
signals.sort((a, b) => {
  return getMaxConfidence(b) - getMaxConfidence(a);
});
```

### æ ‡ç­¾é¡µç­›é€‰
```typescript
const filteredSignals = signals.filter(signal => {
  switch (currentTab) {
    case 'buy': return hasBuy && !hasSell;
    case 'sell': return hasSell && !hasBuy;
    case 'hold': return !hasBuy && !hasSell;
    default: return true; // 'all'
  }
});
```

## ğŸ“Š ä¸åŸç”ŸWebç‰ˆå¯¹æ¯”

| åŠŸèƒ½ | åŸç”ŸWebç‰ˆ | React Webç‰ˆ | çŠ¶æ€ |
|------|-----------|------------|------|
| ä¿¡å·æ±‡æ€» | âœ… | âœ… | âœ… å®Œå…¨ä¸€è‡´ |
| å®æ—¶åˆ·æ–° | âœ… | âœ… | âœ… å®Œå…¨ä¸€è‡´ |
| ä¿¡å·åˆ†ç±» | âœ… | âœ… | âœ… å®Œå…¨ä¸€è‡´ |
| ç½®ä¿¡åº¦æ’åº | âœ… | âœ… | âœ… å®Œå…¨ä¸€è‡´ |
| å“åº”å¼è®¾è®¡ | âœ… | âœ… | âœ… å®Œå…¨ä¸€è‡´ |
| UIæ¡†æ¶ | åŸç”ŸJS + TailwindCSS | React + Material-UI | âœ… ç°ä»£åŒ– |
| çŠ¶æ€ç®¡ç† | æœ¬åœ°çŠ¶æ€ | Redux Toolkit | âœ… æ›´å¼ºå¤§ |
| ç±»å‹å®‰å…¨ | JavaScript | TypeScript | âœ… æ›´å®‰å…¨ |

## ğŸš€ ä½¿ç”¨æ–¹å¼

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
cd web-react
npm start
```

### è®¿é—®ä¿¡å·é¡µé¢
1. æµè§ˆå™¨æ‰“å¼€ `http://localhost:3000`
2. ç‚¹å‡»å¯¼èˆªæ çš„ **"ä¿¡å·"** æ ‡ç­¾
3. æŸ¥çœ‹æ‰€æœ‰æ”¶è—è‚¡ç¥¨çš„ä¹°å–ä¿¡å·

### æ¡Œé¢ç«¯
- é¡¶éƒ¨å¯¼èˆªæ  â†’ ç‚¹å‡» "ä¿¡å·" æ ‡ç­¾

### ç§»åŠ¨ç«¯
- åº•éƒ¨å¯¼èˆªæ  â†’ ç‚¹å‡»é“ƒé“›å›¾æ ‡ ğŸ””

## ğŸ”§ æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: React 18 + TypeScript
- **UIåº“**: Material-UI 5
- **çŠ¶æ€ç®¡ç†**: Redux Toolkit + RTK Query
- **è·¯ç”±**: React Router 6
- **æ„å»ºå·¥å…·**: Create React App

## ğŸ“¦ æ„å»ºéªŒè¯

æ„å»ºæˆåŠŸï¼âœ…

```bash
cd web-react
npm run build

# è¾“å‡º
Creating an optimized production build...
Compiled with warnings.
File sizes after gzip:
  328.23 kB  build\static\js\main.4880ac9b.js
  1.72 kB    build\static\js\206.e4deb2cd.chunk.js
  225 B      build\static\css\main.4efb37a3.css

The build folder is ready to be deployed.
```

**æ³¨æ„**: TypeScriptè­¦å‘Šæ˜¯Material-UI Gridç»„ä»¶çš„ç±»å‹å…¼å®¹æ€§é—®é¢˜ï¼Œä¸å½±å“åŠŸèƒ½è¿è¡Œã€‚

## ğŸ“ æ–‡ä»¶æ¸…å•

### æ–°å¢æ–‡ä»¶
1. `web-react/src/pages/SignalsPage.tsx` - ä¿¡å·æ±‡æ€»é¡µé¢ç»„ä»¶
2. `web-react/SIGNALS_PAGE.md` - åŠŸèƒ½æ–‡æ¡£
3. `web-react/SIGNALS_PAGE_SUMMARY.md` - å®ç°æ€»ç»“

### ä¿®æ”¹æ–‡ä»¶
1. `web-react/src/types/stock.ts` - æ–°å¢ä¿¡å·ç±»å‹å®šä¹‰
2. `web-react/src/services/api.ts` - æ–°å¢APIç«¯ç‚¹
3. `web-react/src/App.tsx` - æ–°å¢è·¯ç”±
4. `web-react/src/components/common/Layout.tsx` - æ–°å¢å¯¼èˆªé¡¹

## âœ¨ äº®ç‚¹ç‰¹æ€§

1. **æ™ºèƒ½åˆ†ç±»**: è‡ªåŠ¨è¯†åˆ«ä¹°å…¥/å–å‡º/æŒæœ‰/æ··åˆä¿¡å·
2. **ç½®ä¿¡åº¦å¯è§†åŒ–**: åœ†å½¢è¿›åº¦æ¡ç›´è§‚æ˜¾ç¤ºé¢„æµ‹ç½®ä¿¡åº¦
3. **å®æ—¶ç»Ÿè®¡**: åŠ¨æ€è®¡ç®—å„ç±»ä¿¡å·æ•°é‡
4. **å¹³æ»‘äº¤äº’**: Material-UIåŠ¨ç”»æ•ˆæœ
5. **å“åº”å¼å¸ƒå±€**: å®Œç¾é€‚é…æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
6. **ç±»å‹å®‰å…¨**: å®Œæ•´çš„TypeScriptç±»å‹å®šä¹‰
7. **æ€§èƒ½ä¼˜åŒ–**: RTK Queryè‡ªåŠ¨ç¼“å­˜ï¼Œé¿å…é‡å¤è¯·æ±‚
8. **é”™è¯¯å¤„ç†**: å‹å¥½çš„åŠ è½½å’Œé”™è¯¯çŠ¶æ€æç¤º

## ğŸ‰ æ€»ç»“

æˆåŠŸä¸ºReact Webç‰ˆæ·»åŠ äº†ä¸åŸç”ŸWebç‰ˆ**å®Œå…¨ä¸€è‡´**çš„æ”¶è—è‚¡ç¥¨ä¿¡å·æ±‡æ€»åŠŸèƒ½ï¼

### æ ¸å¿ƒä»·å€¼
- âœ… **åŠŸèƒ½å®Œæ•´**: æ‰€æœ‰åŸç”Ÿç‰ˆåŠŸèƒ½éƒ½å·²å®ç°
- âœ… **ç°ä»£åŒ–**: ä½¿ç”¨React + TypeScript + Material-UI
- âœ… **ç”¨æˆ·å‹å¥½**: ç²¾ç¾çš„UIå’Œæµç•…çš„äº¤äº’
- âœ… **å¯ç»´æŠ¤**: æ¸…æ™°çš„ä»£ç ç»“æ„å’Œå®Œæ•´çš„æ–‡æ¡£
- âœ… **å¯æ‰©å±•**: æ˜“äºæ·»åŠ æ–°åŠŸèƒ½å’Œä¼˜åŒ–

### ä¸‹ä¸€æ­¥å»ºè®®
1. æ·»åŠ æ›´å¤šç­›é€‰æ¡ä»¶ï¼ˆæŒ‰åˆ†ç»„ã€ç½®ä¿¡åº¦åŒºé—´ï¼‰
2. å®ç°WebSocketå®æ—¶æ¨é€
3. æ·»åŠ ä¿¡å·æˆåŠŸç‡ç»Ÿè®¡
4. å¯¼å‡ºä¿¡å·æŠ¥è¡¨åŠŸèƒ½

---

**å¼€å‘å®Œæˆæ—¶é—´**: 2024-01-18
**å¼€å‘ç”¨æ—¶**: çº¦30åˆ†é’Ÿ
**ä»£ç è´¨é‡**: ä¼˜ç§€ âœ…

